(()=>{var Vo=Object.defineProperty;var D=(o,e)=>()=>(o&&(e=o(o=0)),e);var F=(o,e)=>{for(var t in e)Vo(o,t,{get:e[t],enumerable:!0})};var qe,q,Ke,dt,Je,pt,ht,Ce,je,te=D(()=>{qe=()=>{let o=window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: fullscreen)").matches||window.matchMedia("(display-mode: minimal-ui)").matches||window.navigator.standalone,e=document.referrer.startsWith("android-app://"),t=Je("isPwa","true"),n=sessionStorage.getItem("isPwa");return o||e||t||n},q=o=>{let e=document.createElement("div");e.style.backgroundColor=o,e.style.display="none",document.body.appendChild(e);let t=window.getComputedStyle(e).backgroundColor;document.body.removeChild(e);let[n,l,c]=t.match(/\d+/g).map(Number);return(.299*n+.587*l+.114*c)/255>.5?"#000000":"#ffffff"},Ke=()=>localStorage.getItem("pwa_has_visited")?!sessionStorage.getItem("pwa_first_session"):(localStorage.setItem("pwa_has_visited","true"),sessionStorage.setItem("pwa_first_session","true"),!1),dt=o=>{let e="=".repeat((4-o.length%4)%4),t=(o+e).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),l=new Uint8Array(n.length);for(let c=0;c<n.length;++c)l[c]=n.charCodeAt(c);return l},Je=(o,e="",t=window.location.href)=>{let n=new URL(t);return e?n.searchParams.get(o)===e:n.searchParams.has(o)},pt=(o,e="",t=window.location.href)=>{let n=new URL(t);return e===""?(n.searchParams.append(o,""),n.href.replace(`${o}=`,o)):(n.searchParams.set(o,e),n.href)},ht=(o,e=window.location.href)=>{let t=new URL(e);return t.searchParams.delete(o),t.href},Ce=(o,e,t)=>{var n="";if(t){var l=new Date;l.setTime(l.getTime()+t*24*60*60*1e3),n="; expires="+l.toUTCString()}document.cookie=o+"="+(e||"")+n+"; path=/"},je=o=>{for(var e=o+"=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var l=t[n];l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(e)==0)return l.substring(e.length,l.length)}return null}});var Qe,Ao,le,Ve=D(()=>{K();te();Qe=class{constructor(){this.subscribers=new Set,this.currentState=this.determineInitialState(),this.initialize()}determineInitialState(){return!("serviceWorker"in navigator)||!("PushManager"in window)?"blocked":"unsubscribed"}async initialize(){try{if(Notification.permission==="denied"){this.updateState("blocked");return}let t=await this.getSubscriptionState();this.updateState(t)}catch(e){console.error("Error initializing push notifications:",e),this.updateState("blocked")}}subscribe(e){return this.subscribers.add(e),e(this.currentState),()=>this.subscribers.delete(e)}updateState(e){if(!["loading","subscribed","unsubscribed","blocked"].includes(e)){console.error("Invalid state:",e);return}this.currentState!==e&&(this.currentState=e,this.notifySubscribers())}notifySubscribers(){this.subscribers.forEach(e=>e(this.currentState))}async getSubscriptionState(){if(Notification.permission==="denied")return"blocked";try{return await(await navigator.serviceWorker.ready).pushManager.getSubscription()?"subscribed":"unsubscribed"}catch(e){return console.error("Error getting subscription state:",e),"blocked"}}async addSubscription(){if(this.currentState!=="loading"){this.updateState("loading");try{if(Notification.permission==="default"){let l=await Notification.requestPermission();if(l==="denied"){this.updateState("blocked");return}if(l!=="granted"){this.updateState("unsubscribed");return}}let t=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dt(i.jsVars.vapidPublicKey)}),n=await fetch(`${i.jsVars.restUrl}${i.jsVars.slug}/addSubscription`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:t.endpoint,authKey:t.getKey("auth")?btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("auth")))):null,p256dhKey:t.getKey("p256dh")?btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("p256dh")))):null,contentEncoding:(PushManager.supportedContentEncodings||["aesgcm"])[0]})});if(!n.ok)throw new Error(await n.text()||"Subscription failed");return this.updateState("subscribed"),t}catch(e){throw console.error("Subscription error:",e),this.updateState(Notification.permission==="denied"?"blocked":"unsubscribed"),e}}}async removeSubscription(){if(this.currentState!=="loading"){this.updateState("loading");try{let t=await(await navigator.serviceWorker.ready).pushManager.getSubscription();if(!t){this.updateState("unsubscribed");return}let n=await fetch(`${i.jsVars.restUrl}${i.jsVars.slug}/removeSubscription`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:t.endpoint})}),l=await n.json();if(!n.ok||l.status!=="success")throw new Error(l.message||"Failed to remove subscription");await t.unsubscribe(),this.updateState("unsubscribed")}catch(e){throw console.error("Unsubscribe error:",e),this.updateState("subscribed"),e}}}},Ao=new Qe,le=Ao});function re(){let o=document.querySelector("pwa-install-prompt");o&&o.remove(),customElements.get("pwa-install-prompt")||customElements.define("pwa-install-prompt",Ae),Ae.show()}var u,ue,y,Ae,me=D(()=>{K();te();({__:u}=wp.i18n),ue=null;window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),ue=o});window.addEventListener("appinstalled",()=>{ue=null});y={vertThreeDots:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M480-160q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm0-240q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm0-240q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Z"/></svg>',horizThreeDots:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M240-400q-33 0-56.5-23.5T160-480q0-33 23.5-56.5T240-560q33 0 56.5 23.5T320-480q0 33-23.5 56.5T240-400Zm240 0q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm240 0q-33 0-56.5-23.5T640-480q0-33 23.5-56.5T720-560q33 0 56.5 23.5T800-480q0 33-23.5 56.5T720-400Z"/></svg>',iosShare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M240-40q-33 0-56.5-23.5T160-120v-440q0-33 23.5-56.5T240-640h80q17 0 28.5 11.5T360-600q0 17-11.5 28.5T320-560h-80v440h480v-440h-80q-17 0-28.5-11.5T600-600q0-17 11.5-28.5T640-640h80q33 0 56.5 23.5T800-560v440q0 33-23.5 56.5T720-40H240Zm200-727-36 36q-12 12-28 11.5T348-732q-11-12-11.5-28t11.5-28l104-104q12-12 28-12t28 12l104 104q11 11 11 27.5T612-732q-12 12-28.5 12T555-732l-35-35v407q0 17-11.5 28.5T480-320q-17 0-28.5-11.5T440-360v-407Z"/></svg>',plusInBox:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M440-440v120q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-120h120q17 0 28.5-11.5T680-480q0-17-11.5-28.5T640-520H520v-120q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640v120H320q-17 0-28.5 11.5T280-480q0 17 11.5 28.5T320-440h120ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"/></svg>',tapFinger:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M419-80q-28 0-52.5-12T325-126L124-381q-8-9-7-21.5t9-20.5q20-21 48-25t52 11l74 45v-328q0-17 11.5-28.5T340-760q17 0 29 11.5t12 28.5v400q0 23-20.5 34.5T320-286l-36-22 104 133q6 7 14 11t17 4h221q33 0 56.5-23.5T720-240v-160q0-17-11.5-28.5T680-440H501q-17 0-28.5-11.5T461-480q0-17 11.5-28.5T501-520h179q50 0 85 35t35 85v160q0 66-47 113T640-80H419Zm83-260Zm-23-260q-17 0-28.5-11.5T439-640q0-2 5-20 8-14 12-28.5t4-31.5q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 17 4 31.5t12 28.5q3 5 4 10t1 10q0 17-11 28.5T202-600q-11 0-20.5-6T167-621q-13-22-20-47t-7-52q0-83 58.5-141.5T340-920q83 0 141.5 58.5T540-720q0 27-7 52t-20 47q-5 9-14 15t-20 6Z"/></svg>',hamburgerMenu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M160-240q-17 0-28.5-11.5T120-280q0-17 11.5-28.5T160-320h640q17 0 28.5 11.5T840-280q0 17-11.5 28.5T800-240H160Zm0-200q-17 0-28.5-11.5T120-480q0-17 11.5-28.5T160-520h640q17 0 28.5 11.5T840-480q0 17-11.5 28.5T800-440H160Zm0-200q-17 0-28.5-11.5T120-680q0-17 11.5-28.5T160-720h640q17 0 28.5 11.5T840-680q0 17-11.5 28.5T800-640H160Z"/></svg>',upload:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M240-160q-33 0-56.5-23.5T160-240v-80q0-17 11.5-28.5T200-360q17 0 28.5 11.5T240-320v80h480v-80q0-17 11.5-28.5T760-360q17 0 28.5 11.5T800-320v80q0 33-23.5 56.5T720-160H240Zm200-486-75 75q-12 12-28.5 11.5T308-572q-11-12-11.5-28t11.5-28l144-144q6-6 13-8.5t15-2.5q8 0 15 2.5t13 8.5l144 144q12 12 11.5 28T652-572q-12 12-28.5 12.5T595-571l-75-75v286q0 17-11.5 28.5T480-320q-17 0-28.5-11.5T440-360v-286Z"/></svg>',safari:'<svg style="width:1.5rem;height:1.5rem;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 5120 5120"><linearGradient x2="0" y2="100%" id="a"><stop offset="0" stop-color="#19d7ff"/><stop offset="1" stop-color="#1e64f0"/></linearGradient><circle cx="2560" cy="2560" r="2240" fill="url(#a)"/><path fill="red" d="M4090 1020 2370 2370l4e2 4e2z"/><path fill="#fff" d="M1020 4090l1350-1720 4e2 4e2z"/><path stroke="#fff" stroke-width="30" d="M2560 540v330m0 3370v330m350-4e3-57 325m-586 3318-57 327M3250 662l-113 310M1984 4138l-113 310m339-3878 57 325m586 3318 57 327M1870 662l113 310m1152 3166 113 310M1552 810l166 286m1685 2918 165 286M1265 1010l212 253m2166 2582 212 253M1015 1258l253 212m2582 2168 253 212M813 1548l286 165m2920 1685 286 165M665 1866l310 113m3166 1150 310 113M574 2202l326 58m3320 588 325 57M545 2555h330m3370 0h330M575 2905l325-57m3320-586 325-57M668 3245l310-113m3165-1152 310-113M815 3563l286-165m2920-1685 286-165M1016 3850l253-212m2580-2166 253-212M1262 41e2l212-253m2166-2582 212-253M1552 43e2l166-286m1685-2918 165-286M2384 548l16 180m320 3656 16 180M2038 610l47 174m950 3544 47 174M1708 730l76 163m1550 3326 77 163M1404 904l103 148m2106 3006 103 148M1135 1130l127 127m2596 2596 127 127M910 14e2l148 103m3006 2107 146 1e2M734 1703l163 76m3326 1550 163 77M614 2033l174 47m3544 950 174 47M553 2380l180 16m3656 320 180 16m-4014 0 180-16m3656-320 180-16M614 3077l174-47m3544-950 174-47M734 3407l163-76m3326-1550 163-76M910 3710l148-103m3006-2107 146-1e2M1404 4206l103-148m2105-3006 104-148M1708 4380l77-163M3335 890l77-163M2038 45e2l47-174m950-3544 47-174m-698 3952 16-180m320-3656 16-180"/></svg>',googleChrome:'<svg style="width:1.5rem;height:1.5rem;" xmlns="http://www.w3.org/2000/svg" viewBox="-10 -10 276 276"><linearGradient id="a" x1="145" x2="34" y1="253" y2="61" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#1e8e3e"/><stop offset="1" stop-color="#34a853"/></linearGradient><linearGradient id="b" x1="111" x2="222" y1="254" y2="62" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fcc934"/><stop offset="1" stop-color="#fbbc04"/></linearGradient><linearGradient id="c" x1="17" x2="239" y1="80" y2="80" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#d93025"/><stop offset="1" stop-color="#ea4335"/></linearGradient><circle cx="128" cy="128" r="64" fill="#fff"/><path fill="url(#a)" d="M96 183.4A63.7 63.7 0 0 1 72.6 160L17.2 64A128 128 0 0 0 128 256l55.4-96A64 64 0 0 1 96 183.4Z"/><path fill="url(#b)" d="M192 128a63.7 63.7 0 0 1-8.6 32L128 256A128 128 0 0 0 238.9 64h-111a64 64 0 0 1 64 64Z"/><circle cx="128" cy="128" r="52" fill="#1a73e8"/><path fill="url(#c)" d="M96 72.6a63.7 63.7 0 0 1 32-8.6h110.8a128 128 0 0 0-221.7 0l55.5 96A64 64 0 0 1 96 72.6Z"/></svg>',copy:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-520q0-17 11.5-28.5T160-720q17 0 28.5 11.5T200-680v520h400q17 0 28.5 11.5T640-120q0 17-11.5 28.5T600-80H200Zm160-240v-480 480Z"/></svg>',pasteGo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M727-240H520q-17 0-28.5-11.5T480-280q0-17 11.5-28.5T520-320h207l-36-36q-11-11-11-27.5t12-28.5q11-11 28-11t28 11l104 104q12 12 12 28t-12 28L748-148q-12 12-28 11.5T692-149q-11-12-11.5-28t11.5-28l35-35ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v200q0 17-11.5 28.5T800-520q-17 0-28.5-11.5T760-560v-200h-80v80q0 17-11.5 28.5T640-640H320q-17 0-28.5-11.5T280-680v-80h-80v560h160q17 0 28.5 11.5T400-160q0 17-11.5 28.5T360-120H200Zm280-640q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z"/></svg>',installDesktop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M320-160v-40H160q-33 0-56.5-23.5T80-280v-480q0-33 23.5-56.5T160-840h280q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H160v480h640v-80q0-17 11.5-28.5T840-400q17 0 28.5 11.5T880-360v80q0 33-23.5 56.5T800-200H640v40q0 17-11.5 28.5T600-120H360q-17 0-28.5-11.5T320-160Zm320-393v-247q0-17 11.5-28.5T680-840q17 0 28.5 11.5T720-800v247l76-75q11-11 27.5-11.5T852-628q11 11 11 28t-11 28L708-428q-12 12-28 12t-28-12L508-572q-11-11-11.5-27.5T508-628q11-11 28-11t28 11l76 75Z"/></svg>',installMobile:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M280-40q-33 0-56.5-23.5T200-120v-720q0-33 23.5-56.5T280-920h240q17 0 28.5 11.5T560-880q0 17-11.5 28.5T520-840H280v40h240q17 0 28.5 11.5T560-760q0 17-11.5 28.5T520-720H280v480h400v-40q0-17 11.5-28.5T720-320q17 0 28.5 11.5T760-280v160q0 33-23.5 56.5T680-40H280Zm0-120v40h400v-40H280Zm400-392v-248q0-17 11.5-28.5T720-840q17 0 28.5 11.5T760-800v248l76-76q11-11 28-11t28 11q11 11 11 28t-11 28L748-428q-12 12-28 12t-28-12L548-572q-11-11-11-28t11-28q11-11 28-11t28 11l76 76ZM280-800v-40 40Zm0 640v40-40Z"/></svg>',fileSave:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="m680-272-36-36q-11-11-28-11t-28 11q-11 11-11 28t11 28l104 104q12 12 28 12t28-12l104-104q11-11 11-28t-11-28q-11-11-28-11t-28 11l-36 36v-127q0-17-11.5-28.5T720-439q-17 0-28.5 11.5T680-399v127ZM600-80h240q17 0 28.5 11.5T880-40q0 17-11.5 28.5T840 0H600q-17 0-28.5-11.5T560-40q0-17 11.5-28.5T600-80Zm-360-80q-33 0-56.5-23.5T160-240v-560q0-33 23.5-56.5T240-880h247q16 0 30.5 6t25.5 17l194 194q11 11 17 25.5t6 30.5v48q0 17-11.5 28.5T720-519q-17 0-28.5-11.5T680-559v-41H540q-25 0-42.5-17.5T480-660v-140H240v560h200q17 0 28.5 11.5T480-200q0 17-11.5 28.5T440-160H240Zm0-80v-560 560Z"/></svg>',mouseClick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M120-560h40q17 0 28.5 11.5T200-520q0 17-11.5 28.5T160-480h-40q-17 0-28.5-11.5T80-520q0-17 11.5-28.5T120-560Zm68 216 28-28q12-12 28-11.5t28 11.5q12 12 12.5 28.5T273-315l-28 28q-12 12-28.5 11.5T188-288q-11-12-11.5-28t11.5-28Zm28-324-28-28q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T245-753l28 28q12 12 11.5 28.5T272-668q-12 11-28 11.5T216-668Zm476 480L530-350l-30 90q-2 7-7.5 10.5T481-246q-6 0-11.5-4t-7.5-11l-86-286q-2-8 .5-16t7.5-13q5-5 13-7.5t16-.5l288 86q7 2 10.5 7.5T715-479q0 6-3 11.5t-10 7.5l-90 32 160 160q12 12 12 28t-12 28l-24 24q-12 12-28 12t-28-12ZM400-760v-40q0-17 11.5-28.5T440-840q17 0 28.5 11.5T480-800v40q0 17-11.5 28.5T440-720q-17 0-28.5-11.5T400-760Zm207 35 29-29q11-11 27.5-11.5T692-754q11 11 11.5 27.5T693-698l-29 30q-11 12-27.5 11.5T608-668q-12-12-12.5-28.5T607-725Z"/></svg>',appsGrid:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M638-468 468-638q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l170-170q6-6 13-8.5t15-2.5q8 0 15 2.5t13 8.5l170 170q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L694-468q-6 6-13 8.5t-15 2.5q-8 0-15-2.5t-13-8.5Zm-518-92v-240q0-17 11.5-28.5T160-840h240q17 0 28.5 11.5T440-800v240q0 17-11.5 28.5T400-520H160q-17 0-28.5-11.5T120-560Zm400 400v-240q0-17 11.5-28.5T560-440h240q17 0 28.5 11.5T840-400v240q0 17-11.5 28.5T800-120H560q-17 0-28.5-11.5T520-160Zm-400 0v-240q0-17 11.5-28.5T160-440h240q17 0 28.5 11.5T440-400v240q0 17-11.5 28.5T400-120H160q-17 0-28.5-11.5T120-160Zm80-440h160v-160H200v160Zm467 48 113-113-113-113-113 113 113 113Zm-67 352h160v-160H600v160Zm-400 0h160v-160H200v160Zm160-400Zm194-65ZM360-360Zm240 0Z"/></svg>',directionDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M200-120q-17 0-28.5-11.5T160-160q0-17 11.5-28.5T200-200h560q17 0 28.5 11.5T800-160q0 17-11.5 28.5T760-120H200Zm280-177q-8 0-15-2.5t-13-8.5L308-452q-11-11-11-28t11-28q11-11 28-11t28 11l76 76v-368q0-17 11.5-28.5T480-840q17 0 28.5 11.5T520-800v368l76-76q11-11 28-11t28 11q11 11 11 28t-11 28L508-308q-6 6-13 8.5t-15 2.5Z"/></svg>',addToHomeScreen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M320-40q-33 0-56.5-23.5T240-120v-120q0-17 11.5-28.5T280-280q17 0 28.5 11.5T320-240h400v-480H320q0 17-11.5 28.5T280-680q-17 0-28.5-11.5T240-720v-120q0-33 23.5-56.5T320-920h400q33 0 56.5 23.5T800-840v720q0 33-23.5 56.5T720-40H320Zm0-120v40h400v-40H320Zm80-344L204-308q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196H240q-17 0-28.5-11.5T200-600q0-17 11.5-28.5T240-640h200q17 0 28.5 11.5T480-600v200q0 17-11.5 28.5T440-360q-17 0-28.5-11.5T400-400v-104Zm-80-296h400v-40H320v40Zm0 0v-40 40Zm0 640v40-40Z"/></svg>',noInstallSupport:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M792-56 56-792q-11-11-11-28t11-28q11-11 28-11t28 11l736 736q11 11 11 28t-11 28q-11 11-28 11t-28-11ZM200-703l80 80v383h384l96 96v24q0 33-23.5 56.5T680-40H280q-33 0-56.5-23.5T200-120v-583Zm80 543v40h400v-40H280Zm0 0v40-40Zm79-560q-17 0-28-11.5T320-760q0-17 11.5-28.5T360-800h320v-40H260q-17 0-28.5-11.5T220-880q0-17 11.5-28.5T260-920h420q33 0 56.5 23.5T760-840v480q0 17-11.5 28.5T720-320q-17 0-28.5-11.5T680-360v-360H359Zm98-80Z"/></svg>'},Ae=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}async connectedCallback(){this.render(),this.handleRemove(),this.handleClipboard(),this.handleNativeInstall(),this.hasAttribute("loaded")||(await this.handleCheckInstallCapabilities(),this.setAttribute("loaded",""),this.handleUpdateContent())}static show(){let e=document.querySelector("pwa-install-prompt");return e||(e=document.createElement("pwa-install-prompt"),document.body.appendChild(e),requestAnimationFrame(()=>{let t=e.shadowRoot.querySelector(".install-prompt");document.documentElement.style.paddingRight=`${window.innerWidth-document.documentElement.offsetWidth}px`,document.documentElement.style.overflow="hidden",t.classList.add("visible")})),e}injectStyles(e){this.styles.add(e)}handleRemove(){let e=this.shadowRoot.querySelector(".install-prompt-close"),t=this.shadowRoot.querySelector(".install-prompt-footer_close"),n=this.shadowRoot.querySelector(".install-prompt"),l=()=>{n.classList.remove("visible"),n.addEventListener("transitionend",()=>{document.documentElement.style.removeProperty("overflow"),document.documentElement.style.paddingRight="",this.remove()},{once:!0})};e.addEventListener("click",l),t.addEventListener("click",l),n.addEventListener("click",c=>{c.target===n&&l()})}handleClipboard(){this.shadowRoot.querySelectorAll("[data-clipboard-content]").forEach(t=>{t.addEventListener("click",async()=>{let n=t.getAttribute("data-clipboard-content"),l=t.querySelector(".clipboard-default"),c=t.querySelector(".clipboard-success"),s=t.querySelector(".tooltip");try{await navigator.clipboard.writeText(n),l.style.display="none",c.style.display="block",s.classList.add("visible"),t.disabled=!0,setTimeout(()=>{l.style.display="block",c.style.display="none",s.classList.remove("visible"),t.disabled=!1},2e3)}catch(h){console.error("Failed to copy:",h)}})})}async handleCheckInstallCapabilities(){return new Promise(e=>{if(ue){e(!0);return}let t=setTimeout(()=>e(!1),1700);window.addEventListener("beforeinstallprompt",n=>{n.preventDefault(),clearTimeout(t),ue=n,e(!0)},{once:!0})})}handleUpdateContent(){let e=this.shadowRoot.querySelector(".install-prompt-body");if(e){e.innerHTML=this.renderContent();let t=this.shadowRoot.querySelector("style");t.textContent=Array.from(this.styles).join(`
`),this.handleClipboard(),this.handleNativeInstall()}}handleNativeInstall(){let e=this.shadowRoot.querySelector("#native-install-btn");e&&ue&&e.addEventListener("click",async()=>{try{await ue.prompt();let t=await ue.userChoice;ue=null,t.outcome==="accepted"&&this.remove()}catch(t){console.error("Native installation failed:",t),this.handleUpdateContent()}})}renderAppIcon(){if(!i.jsVars.iconUrl)return"";this.injectStyles(`
      .install-prompt-body-appinfo_icon {
        border-radius: 9999px;
        border: 1px solid #e5e7eb;
        -ms-flex-negative: 0;
            flex-shrink: 0;
        height: 55px;
        width: 55px;
        display: inline-block;
      }
    `);let e=i.jsVars.settings.webAppManifest.appIdentity.appName;return`
      <img 
        class="install-prompt-body-appinfo_icon" 
        src="${i.jsVars.iconUrl}" 
        alt="${e}"
        onerror="this.style.display='none'"
      >
    `}renderAppName(){this.injectStyles(`
      .install-prompt-body-appinfo_appname {
        font-size: 1rem;
        line-height: 1.5rem;
        font-weight: 500;
        color: #1f2937;
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
      }
    `);let e=i.jsVars.settings.webAppManifest.appIdentity.appName;return e?`
      <div class="install-prompt-body-appinfo_appname">${e}</div>
    `:""}renderAppDescription(){this.injectStyles(`
      .install-prompt-body-appinfo_description {
        font-size: 0.75rem;
        line-height: 1rem;
        font-weight: 400;
        color: #6b7280;
        margin-top: 0.12rem;
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
      }
    `);let e=i.jsVars.settings.webAppManifest.appIdentity.description;return e?`
      <div class="install-prompt-body-appinfo_description">${e}</div>
    `:""}renderAppInfo(){return this.injectStyles(`
      .install-prompt-body-appinfo {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        background: #f3f4f6;
        padding: 0.5rem;
        border-radius: 0.5rem;
        border: 1px solid #e5e7eb;
      }

      .install-prompt-body-appinfo_texts {
        padding-left: 0.5rem;
      }
    `),`
      <div class="install-prompt-body-appinfo">
        ${this.renderAppIcon()}
        <div class="install-prompt-body-appinfo_texts">
          ${this.renderAppName()}
          ${this.renderAppDescription()}
        </div>
      </div>
    `}renderCopyInstallUrlButton(){this.injectStyles(`
      .install-prompt-body-instructions_step_copy {
        position: relative;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-column-gap: 0.5rem;
           -moz-column-gap: 0.5rem;
                column-gap: 0.5rem;
        font-size: 0.875rem;
        line-height: 0.875rem;
        padding: 10px 13px;
        border-radius: 0.5rem;
        border: 1px solid #e5e7eb;
        background-color: #ffffff;
        color: #1f2937;
        -webkit-box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
                box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        outline: none;
        -webkit-transition: all .1s ease;
        -o-transition: all .1s ease;
        transition: all .1s ease;
        cursor: pointer;
        margin-top: 0.5rem;
      }

      .install-prompt-body-instructions_step_copy:hover,
      .install-prompt-body-instructions_step_copy:focus {
        background-color: #f9fafb;
      }

      .install-prompt-body-instructions_step_copy_url {
        -o-text-overflow: ellipsis;
           text-overflow: ellipsis;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
        max-width: 15rem;
      }

      .install-prompt-body-instructions_step_copy_icons {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        border-left: 1px solid #e5e7eb;
        -webkit-padding-start: 0.75rem;
                padding-inline-start: 0.75rem;
      }

      .install-prompt-body-instructions_step_copy_svg {
        width: 1rem;
        height: 1rem;
      }

      .install-prompt-body-instructions_step_copy_svg.clipboard-success {
        display: none;
        width: 1rem;
        height: 1rem;
        color: #2563eb;
      }

      .install-prompt-body-instructions_step_copy_tooltip {
        display: none;
        opacity: 0;
        visibility: hidden;
        position: absolute;
        top: -2rem;
        -webkit-transition: all 0.1s ease;
        -o-transition: all 0.1s ease;
        transition: all 0.1s ease;
        z-index: 10;
        padding: 0.25rem 0.5rem;
        background-color: #111827;
        font-size: 0.75rem;
        line-height: 1rem;
        font-weight: 500;
        color: #ffffff;
        border-radius: 0.5rem;
        -webkit-box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
                box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        cursor: default;
      }

      .install-prompt-body-instructions_step_copy_tooltip.visible {
        visibility: visible;
        opacity: 1;
      }
    `);let e=i.jsVars.settings.webAppManifest.displaySettings?.startPage;return e?`
      <button type="button" class="install-prompt-body-instructions_step_copy" data-clipboard-content="${pt("performInstallation","true",e)}">
        <span class="install-prompt-body-instructions_step_copy_url">
          ${e}
        </span>
        <span class="install-prompt-body-instructions_step_copy_icons">
          <svg class="install-prompt-body-instructions_step_copy_svg clipboard-default" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect>
            <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
          </svg>
          <svg class="install-prompt-body-instructions_step_copy_svg clipboard-success" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
        </span>
        <span class="install-prompt-body-instructions_step_copy_tooltip" role="tooltip">
          ${u("Copied",i.jsVars.slug)}
        </span>
      </button>
    `:""}renderLoadingInstallCheck(){return this.injectStyles(`
      .install-prompt-loading {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-orient: vertical;
        -webkit-box-direction: normal;
            -ms-flex-direction: column;
                flex-direction: column;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
      }

      .install-prompt-loading-spinner {
        width: 2rem;
        height: 2rem;
        border: 3px solid #f3f4f6;
        border-top-color: #1f2937;
        border-radius: 50%;
        -webkit-animation: spinner 0.6s linear infinite;
                animation: spinner 0.6s linear infinite;
      }

      @-webkit-keyframes spinner {
        to {
          -webkit-transform: rotate(360deg);
                  transform: rotate(360deg);
        }
      }

      @keyframes spinner {
        to {
          -webkit-transform: rotate(360deg);
                  transform: rotate(360deg);
        }
      }

      .install-prompt-loading-text {
        margin-top: 1rem;
        font-size: 0.875rem;
        line-height: 1.25rem;
        color: #374151;
      }
    `),`
      <div class="install-prompt-loading">
        <div class="install-prompt-loading-spinner"></div>
        <div class="install-prompt-loading-text">${u("Checking installation capabilities...",i.jsVars.slug)}</div>
      </div>
    `}renderNativeInstallButton(){let e=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",t=q(e);this.injectStyles(`
      .install-prompt-native-button {
        width: 100%;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        gap: 0.5rem;
        padding: 1rem;
        font-weight: 500;
        font-size: 0.875rem;
        line-height: 1.25rem;
        border-radius: 0.5rem;
        color: ${t};
        background-color: ${e};
        -webkit-transition: all 0.1s ease;
        -o-transition: all 0.1s ease;
        transition: all 0.1s ease;
        cursor: pointer;
        outline: none;
        border: none;
        margin-top: 1.5rem;
      }

      .install-prompt-native-button:hover {
        opacity: 0.8;
      }

      .install-prompt-native-button:focus {
        outline: 2px solid #60a5fa;
        outline-offset: 2px;
      }

      .install-prompt-native-button svg {
        width: 1.25rem;
        height: 1.25rem;
      }
    `);let{device:n,os:l,browser:c}=i.jsVars.userData,s="",h=u("Click to Install",i.jsVars.slug);return n.isSmartphone||n.isTablet?(s=y.installMobile,h=u("Tap to Install",i.jsVars.slug)):n.isDesktop&&(s=y.installDesktop),`
      <button type="button" class="install-prompt-native-button" id="native-install-btn">
        ${s}
        ${h}
      </button>
    `}renderContent(){return this.hasAttribute("loaded")?ue?`
        ${this.renderAppInfo()}
        ${this.renderNativeInstallButton()}
      `:`
        ${this.renderAppInfo()}
        ${this.renderManualInstallInstructions()}
      `:`
        ${this.renderLoadingInstallCheck()}
      `}renderStep(e,t="",n="",l="",c=""){return this.injectStyles(`
      .install-prompt-body-instructions_step {
        position: relative;
        -webkit-padding-start: 2.8rem;
                padding-inline-start: 2.8rem;
        padding-bottom: 2.2rem;
        counter-increment: step 1;
      }

      .install-prompt-body-instructions_step:last-child {
        padding-bottom: 0px;
      }

      .install-prompt-body-instructions_step-icon {
        position: absolute;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        inset-inline-start: 0px;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        width: 2rem;
        height: 2rem;
        color: #1f2937;
        border-radius: 9999px;
        background-color: #f3f4f6;
      }

      .install-prompt-body-instructions_step-icon svg {
        width: 1.25rem;
        height: 1.25rem;
        -ms-flex-negative: 0;
            flex-shrink: 0;
      }

      .install-prompt-body-instructions_step-icon:empty::before {
        content: counter(step);
        font-size: 0.75rem;
        line-height: 1rem;
        font-weight: 600;
      }

      .install-prompt-body-instructions_step {
        counter-increment: step;
      }

      .install-prompt-body-instructions_step:last-child::after {
        display: none;
      }

      .install-prompt-body-instructions_step::after {
        content: '';
        position: absolute;
        top: 2.5rem;
        bottom: 0.5rem;
        inset-inline-start: 0.95rem;
        width: 1px;
        -webkit-transform: translateX(0.5px);
            -ms-transform: translateX(0.5px);
                transform: translateX(0.5px);
        background-color: #e5e7eb;
      }

      .install-prompt-body-instructions_step_title {
        display: block;
        font-weight: 600;
        font-size: 0.875rem;
        line-height: 1.25rem;
        color: #1f2937;
      }

      .install-prompt-body-instructions_step_description {
        font-size: 0.8rem;
        color: #6b7280;
        line-height: 1.1rem;
        margin: 0;
        padding: 0;
        margin-top: 0.2rem;
      }
    `),`
      <li class="install-prompt-body-instructions_step">
        ${l?`<div class="install-prompt-body-instructions_step-icon">${l}</div>`:'<div class="install-prompt-body-instructions_step-icon"></div>'}
        <span class="install-prompt-body-instructions_step_title">
           ${e}. ${t}
        </span>
        <p class="install-prompt-body-instructions_step_description">
          ${n}
        </p>
        ${c}
      </li> 
    `}renderManualInstallInstructions(){this.injectStyles(`
      .install-prompt-body-instructions {
        list-style: none;
        margin: 0;
        margin-top: 1.5rem;
        padding: 0;
      }
    `);let{device:e,os:t,browser:n}=i.jsVars.userData,l=[],c=1,s=(...h)=>{l.push(this.renderStep(c,...h)),c++};return e.isSmartphone||e.isTablet?t.isAndroid?n.isChrome?(s(u("Tap the Menu Icon",i.jsVars.slug),u("Tap the menu icon (three dots), located at the top-right of your screen.",i.jsVars.slug),y.vertThreeDots),s(u('Select "Add to Home Screen"',i.jsVars.slug),u('Tap the "Add to Home Screen" option from the menu.',i.jsVars.slug),y.addToHomeScreen),s(u('Confirm by Tapping "Add"',i.jsVars.slug),u('Tap the "Add" text on the browser installation dialog.',i.jsVars.slug),y.tapFinger)):n.isFirefox?(s(u("Tap the Menu Icon",i.jsVars.slug),u("Tap the menu icon (three dots), located at the top-right of your screen.",i.jsVars.slug),y.vertThreeDots),s(u('Select "Install"',i.jsVars.slug),u('Tap the "Install" option from the menu.',i.jsVars.slug),y.addToHomeScreen),s(u('Confirm by Tapping "Add to Home Screen"',i.jsVars.slug),u('Tap the "Add to Home Screen" button on the browser installation dialog.',i.jsVars.slug),y.tapFinger)):n.isOpera?(s(u("Tap the Menu Icon",i.jsVars.slug),u("Tap the menu icon (three dots), located at the top-right of your screen.",i.jsVars.slug),y.vertThreeDots),s(u('Select "Home Screen"',i.jsVars.slug),u('Tap the "Install" option from the menu.',i.jsVars.slug),y.installMobile),s(u('Confirm by Tapping "Add"',i.jsVars.slug),u('Tap the "Add" text on the browser installation dialog.',i.jsVars.slug),y.tapFinger)):n.isEdge?(s(u("Tap the Menu Icon",i.jsVars.slug),u("Tap the menu icon (three horizontal lines) located at the bottom-right of your screen.",i.jsVars.slug),y.hamburgerMenu),s(u('Select "Add to Phone"',i.jsVars.slug),u('Tap the "Add to Phone" option from the menu',i.jsVars.slug),y.installMobile),s(u('Confirm by Tapping "Install"',i.jsVars.slug),u('Tap the "Install" text on the browser installation dialog.',i.jsVars.slug),y.tapFinger)):(s(u("Copy the Page URL",i.jsVars.slug),u("Click the button below to copy the page's URL.",i.jsVars.slug),y.copy,this.renderCopyInstallUrlButton()),s(u("Open the Google Chrome Browser",i.jsVars.slug),u("Launch the Google Chrome web browser from your home screen.",i.jsVars.slug),y.googleChrome),s(u("Paste and Open the URL",i.jsVars.slug),u("Paste the copied URL into Google Chrome's address bar and open the page.",i.jsVars.slug),y.pasteGo)):t.isIos?n.isSafari?(s(u("Tap the Share Icon",i.jsVars.slug),u("Tap the share icon located at the center-bottom of your screen.",i.jsVars.slug),y.iosShare),s(u('Select "Add to Home Screen"',i.jsVars.slug),u('Tap the "Add to Home Screen" option, represented by the plus [+] icon.',i.jsVars.slug),y.plusInBox),s(u('Confirm by Tapping "Add"',i.jsVars.slug),u('Tap the "Add" button at the top-right corner of your screen.',i.jsVars.slug),y.tapFinger)):n.isChrome?(s(u("Tap the Share Icon",i.jsVars.slug),u("Tap the share icon located at the top-right of your browser address bar.",i.jsVars.slug),y.iosShare),s(u('Select "Add to Home Screen"',i.jsVars.slug),u('Tap the "Add to Home Screen" option, represented by the plus [+] icon.',i.jsVars.slug),y.plusInBox),s(u('Confirm by Tapping "Add"',i.jsVars.slug),u('Tap the "Add" button at the top-right corner of your screen.',i.jsVars.slug),y.tapFinger)):n.isFirefox?(s(u("Tap the Menu Icon",i.jsVars.slug),u("Tap the menu icon (three horizontal lines) located at the bottom-right of your screen.",i.jsVars.slug),y.hamburgerMenu),s(u("Tap the Share Icon",i.jsVars.slug),u("Tap the share icon in the dialog overlay that the browser opens.",i.jsVars.slug),y.iosShare),s(u('Select "Add to Home Screen"',i.jsVars.slug),u('Tap the "Add to Home Screen" option, represented by the plus [+] icon.',i.jsVars.slug),y.plusInBox),s(u('Confirm by Tapping "Add"',i.jsVars.slug),u('Tap the "Add" button at the top-right corner of your screen.',i.jsVars.slug),y.tapFinger)):n.isOpera?(s(u("Tap the Menu Icon",i.jsVars.slug),u("Tap the menu icon (three dots), located at the bottom-right of your screen.",i.jsVars.slug),y.vertThreeDots),s(u("Tap the Share Icon",i.jsVars.slug),u("Tap the share icon located at the top of the dialog overlay that browser opens.",i.jsVars.slug),y.upload),s(u('Select "Add to Home Screen"',i.jsVars.slug),u('Tap the "Add to Home Screen" option, represented by the plus [+] icon.',i.jsVars.slug),y.plusInBox),s(u('Confirm by Tapping "Add"',i.jsVars.slug),u('Tap the "Add" button at the top-right corner of your screen.',i.jsVars.slug),y.tapFinger)):n.isEdge?(s(u("Tap the Menu Icon",i.jsVars.slug),u("Tap the menu icon (three horizontal lines) located at the bottom-right of your screen.",i.jsVars.slug),y.hamburgerMenu),s(u("Tap the Share Icon",i.jsVars.slug),u("Tap the share icon in the dialog overlay that the browser opens.",i.jsVars.slug),y.upload),s(u('Select "Add to Home Screen"',i.jsVars.slug),u('Tap the "Add to Home Screen" option, represented by the plus [+] icon.',i.jsVars.slug),y.plusInBox),s(u('Confirm by Tapping "Add"',i.jsVars.slug),u('Tap the "Add" button at the top-right corner of your screen.',i.jsVars.slug),y.tapFinger)):n.isDuckduckgo?(s(u("Tap the Share Icon",i.jsVars.slug),u("Tap the share icon located at the right side of the browser's address bar.",i.jsVars.slug),y.upload),s(u('Select "Add to Home Screen"',i.jsVars.slug),u('Tap the "Add to Home Screen" option, represented by the plus [+] icon.',i.jsVars.slug),y.plusInBox),s(u('Confirm by Tapping "Add"',i.jsVars.slug),u('Tap the "Add" button at the top-right corner of your screen.',i.jsVars.slug),y.tapFinger)):(s(u("Copy the Page URL",i.jsVars.slug),u("Click the button below to copy the page's URL.",i.jsVars.slug),y.copy,this.renderCopyInstallUrlButton()),s(u("Open the Safari Browser",i.jsVars.slug),u("Launch the Safari web browser from your home screen.",i.jsVars.slug),y.safari),s(u("Paste and Open the URL",i.jsVars.slug),u("Paste the copied URL into Safari's address bar and open the page.",i.jsVars.slug),y.pasteGo)):s(u("Installation Not Supported",i.jsVars.slug),u("Your operating system does not support web app installation. Please try accessing the website on an Android or iOS mobile device.",i.jsVars.slug),y.noInstallSupport):e.isDesktop?n.isChrome?(s(u("Tap the Menu Icon",i.jsVars.slug),u("Tap the menu icon (three dots) in the top-right corner of your browser window.",i.jsVars.slug),y.vertThreeDots),s(u('Expand "Cast, save and share"',i.jsVars.slug),u('Hover over the "Cast, Save, and Share" menu item to expand its options.',i.jsVars.slug),y.fileSave),s(u('Select "Install page as app..."',i.jsVars.slug),u('Click on "Install page as app..." from the menu.',i.jsVars.slug),y.installDesktop),s(u('Confirm by Clicking "Install"',i.jsVars.slug),u(`Click the "Install" button in the browser's installation dialog.`,i.jsVars.slug),y.mouseClick)):n.isEdge?(s(u("Tap the Menu Icon",i.jsVars.slug),u("Tap the menu icon (three dots) in the top-right corner of your browser window.",i.jsVars.slug),y.horizThreeDots),s(u('Expand "Apps"',i.jsVars.slug),u('Hover over the "Apps" menu item to expand its options.',i.jsVars.slug),y.appsGrid),s(u('Select "Install this site as app"',i.jsVars.slug),u('Click on "Install this site as app" from the menu.',i.jsVars.slug),y.directionDown),s(u('Confirm by Clicking "Install"',i.jsVars.slug),u(`Click the "Install" button in the browser's installation dialog.`,i.jsVars.slug),y.mouseClick)):(s(u("Copy the Page URL",i.jsVars.slug),u("Click the button below to copy the page's URL.",i.jsVars.slug),y.copy,this.renderCopyInstallUrlButton()),s(u("Open the Google Chrome Browser",i.jsVars.slug),u("Launch the Google Chrome web browser from your start menu.",i.jsVars.slug),y.googleChrome),s(u("Paste and Open the URL",i.jsVars.slug),u("Paste the copied URL into Google Chrome's address bar and open the page.",i.jsVars.slug),y.pasteGo)):s(u("Installation Not Supported",i.jsVars.slug),u("Your device does not support web app installation. Please try accessing the website on a mobile or desktop device.",i.jsVars.slug),y.noInstallSupport),l.length?`<ul class="install-prompt-body-instructions">${l.join("")}</ul>`:""}render(){this.injectStyles(`
      .install-prompt {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 99999999999999999999;
        background: rgba(0, 0, 0, 0);
        -webkit-backdrop-filter: blur(0px);
                backdrop-filter: blur(0px);
        -webkit-transition: all 0.2s ease-out;
        -o-transition: all 0.2s ease-out;
        transition: all 0.2s ease-out;
        opacity: 0;
        visibility: hidden;
      }

      .install-prompt.visible {      
        background: rgba(0, 0, 0, 0.7);
        -webkit-backdrop-filter: blur(5px);
                backdrop-filter: blur(5px);
        opacity: 1;
        visibility: visible;
      }

      .install-prompt-container {
        position: fixed;
        top: 50%;
        left: 50%;
        -webkit-transform: translate(-50%, calc(-50% + 20px));
            -ms-transform: translate(-50%, calc(-50% + 20px));
                transform: translate(-50%, calc(-50% + 20px));
        background: white;
        border-radius: 10px;
        -webkit-box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        max-width: 32rem;
        width: 95%;
        overflow: hidden;
        opacity: 0;
        -webkit-transition: all 0.15s ease-out;
        -o-transition: all 0.15s ease-out;
        transition: all 0.15s ease-out;
        z-index: 999999999999999999999;
      }

      .install-prompt.visible .install-prompt-container {
        -webkit-transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
                transform: translate(-50%, -50%);
        opacity: 1;
      }

      .install-prompt-header {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        padding: 0.75rem 1rem;
        gap: 1.5rem;
        -webkit-box-pack: justify;
            -ms-flex-pack: justify;
                justify-content: space-between;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        border-bottom: 1px solid #e5e7eb;
      }

      .install-prompt-header-texts_title {
        font-size: 1rem;
        line-height: 1.5rem;
        font-weight: 500;
        color: #1f2937;
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
      }

      .install-prompt-close {
        display: -webkit-inline-box;
        display: -ms-inline-flexbox;
        display: inline-flex;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        width: 2rem;
        height: 2rem;
        color: #1f2937;
        background: #f3f4f6;
        border-radius: 9999px;
        outline: none;
        border: none;
        cursor: pointer;
        -webkit-transition: all 0.1s ease;
        -o-transition: all 0.1s ease;
        transition: all 0.1s ease;
        -ms-flex-negative: 0;
            flex-shrink: 0;
      }

      .install-prompt-close:hover {
        background: #e5e7eb;
      }

      .install-prompt-close-icon {
        display: block;
        width: 1rem;
        height: 1rem;
        -ms-flex-negative: 0;
            flex-shrink: 0;
        vertical-align: middle;
      }

      .install-prompt-body {
        padding: 1.5rem 1rem;
        overflow-y: auto;
        max-height: 34rem;
      }

      .install-prompt-body::-webkit-scrollbar {
        width: .5rem;
      }

      .install-prompt-body::-webkit-scrollbar-thumb {
        background-color: rgb(209 213 219 / 1);
        border-radius: 9999px;
      }

      .install-prompt-body::-webkit-scrollbar-track {
        background-color: rgb(243 244 246 / 1);
      }

      .install-prompt-footer {
        display: none;
        padding: 0.25rem;
        border-top: 1px solid #e5e7eb;
      }

      .install-prompt-footer_close {
        width: 100%;
        display: -webkit-inline-box;
        display: -ms-inline-flexbox;
        display: inline-flex;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-column-gap: 0.375rem;
           -moz-column-gap: 0.375rem;
                column-gap: 0.375rem;
        padding: 0.75rem 1rem;
        font-weight: 500;
        font-size: 0.75rem;
        line-height: 1rem;
        border-radius: 0.5rem;
        background-color: #ffffff;
        color: #1f2937;
        -webkit-transition: all 0.1s ease;
        -o-transition: all 0.1s ease;
        transition: all 0.1s ease;
        cursor: pointer;
        outline: none;
        border: none;
      }

      .install-prompt-footer_close:hover {
        background-color: #f3f4f6;
      }
        
      .install-prompt-footer_close:focus {
        outline: none;
        border: none;
        background-color: #f3f4f6;
      }

      @media (max-width: 700px) {
       .install-prompt-container {
          width: 100%;
          max-width: 100%;
          top: unset;
          bottom: 0;
          left: 0;
          border-top-left-radius: 1rem;
          border-top-right-radius: 1rem;
          border-bottom-left-radius: 0;
          border-bottom-right-radius: 0;
          -webkit-box-shadow: none;
                  box-shadow: none;
          opacity: 1;
          -webkit-transform: translateY(100%);
              -ms-transform: translateY(100%);
                  transform: translateY(100%);
        } 

        .install-prompt.visible .install-prompt-container {
          -webkit-transform: translateY(0);
              -ms-transform: translateY(0);
                  transform: translateY(0);
        }
      }
    `);let e=this.renderContent(),t=i.jsVars.settings.installation?.prompts?.text??u("Install Web App",i.jsVars.slug),n=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${n}</style>
      <div class="install-prompt">
        <div class="install-prompt-container">
          <div class="install-prompt-header">
            <div class="install-prompt-header-texts">
              <div class="install-prompt-header-texts_title">${t}</div>
            </div>
            <button type="button" class="install-prompt-close" aria-label="Close">
              <svg class="install-prompt-close-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
            </button>
          </div>
          <div class="install-prompt-body">
            ${e}
          </div>
          <div class="install-prompt-footer">
            <button type="button" class="install-prompt-footer_close">
              ${u("Close Dialog",i.jsVars.slug)}
            </button>
          </div>
        </div>
      </div>
    `}}});var ut={};F(ut,{initInstallOverlayHeaderBanner:()=>Io});async function Io(){customElements.get("pwa-install-overlay-header-banner")||customElements.define("pwa-install-overlay-header-banner",Ie),Ie.show()}var et,Ie,mt=D(()=>{K();me();te();({__:et}=wp.i18n),Ie=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}connectedCallback(){this.render(),this.handleRemove(),this.handlePerformInstallation()}static show(){let e=document.querySelector("pwa-install-overlay-header-banner");return e||(e=document.createElement("pwa-install-overlay-header-banner"),document.body.appendChild(e),requestAnimationFrame(()=>{e.shadowRoot.querySelector(".header-banner-overlay").classList.add("visible")})),e}injectStyles(e){this.styles.add(e)}handleRemove(){let e=this.shadowRoot.querySelector(".header-banner-overlay"),t=this.shadowRoot.querySelector(".header-banner-overlay-button_close"),n=()=>{e.classList.remove("visible"),setTimeout(()=>this.remove(),300)};t.addEventListener("click",n)}handlePerformInstallation(){this.shadowRoot.querySelector(".header-banner-overlay-button_install").addEventListener("click",()=>{re()})}render(){let e=i.jsVars.settings.webAppManifest.appIdentity.appName??"",t=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",n=q(t),l=i.jsVars.settings.installation?.prompts?.text??et("Install Web App",i.jsVars.slug),c=i.jsVars.settings.installation?.prompts?.types?.headerBanner?.message??et("Get our web app. It won't take up space on your device.",i.jsVars.slug),s=i.jsVars.iconUrl?`<img class="header-banner-overlay-appinfo_icon" src="${i.jsVars.iconUrl}" alt="${e}" onerror="this.style.display='none'"></img>`:"";this.injectStyles(`
      .header-banner-overlay {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        position: fixed;
        top: 0;
        right: 0;
        left: 0;
        z-index: 99999;
        padding: 0.75rem;
        background-color: ${t};
        color: ${n};
        box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        -webkit-transition: all 0.2s ease-out;
        -o-transition: all 0.2s ease-out;
        transition: all 0.2s ease-out;
        opacity: 0;
        visibility: hidden;
      }

      .header-banner-overlay.visible {
        opacity: 1;
        visibility: visible;
      }

      .header-banner-overlay-appinfo {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        gap: 0.75rem;
      }

      .header-banner-overlay-appinfo_icon {
        border-radius: 9999px;
        border: 1px solid #e5e7eb;
        -ms-flex-negative: 0;
            flex-shrink: 0;
        height: 50px;
        width: 50px;
        display: inline-block;
      }

      .header-banner-overlay-appinfo_title {
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 500;
        color: ${n};
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
      }

      .header-banner-overlay-appinfo_description {
        font-size: 0.75rem;
        line-height: 1rem;
        font-weight: 400;
        color: ${n}cc;
        margin-top: 0.12rem;
        text-wrap: balance;
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
      }

      .header-banner-overlay-buttons {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        flex-shrink: 0;
      }

      .header-banner-overlay-button_install {
        display: inline-block;
        background-color: ${n};
        color: ${t};
        vertical-align: middle;
        text-decoration: none;
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 600;
        padding: 0.375rem 0.875rem;
        border: none;
        outline: none;
        border-radius: 9999px;
        cursor: pointer;
      }

      .header-banner-overlay-button_install:hover {
        opacity: 0.8;
      }

      .header-banner-overlay-button_close {
        display: inline-flex;
        background-color: transparent;
        color: ${n}cc;
        padding: 0;
        border-radius: 0.5rem;
        cursor: pointer;
        outline: none;
        border: none;
      }

      .header-banner-overlay-button_close:hover {
        background-color: ${n}1a;
      }

      .header-banner-overlay-button_close svg {
        width: 1rem;
        height: 1rem;
      }

      @media (min-width: 400px) {
        .header-banner-overlay-appinfo_icon {
          height: 45px;
          width: 45px;
        }
      }

      @media (min-width: 1200px) {
        .header-banner-overlay {
          justify-content: center;
          gap: 5rem;
        }

        .header-banner-overlay-button_close {
          padding: 0.375rem;
        }
      }
    `);let h=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${h}</style>
      <div class="header-banner-overlay">
        <div class="header-banner-overlay-appinfo">
          ${s}
          <div class="header-banner-overlay-appinfo_texts">
            <div class="header-banner-overlay-appinfo_title">${l}</div>
            <div class="header-banner-overlay-appinfo_description">${c}</div>
          </div>
        </div>
        <div class="header-banner-overlay-buttons">
          <button type="button" class="header-banner-overlay-button_install">
            ${et("Install Now",i.jsVars.slug)}
          </button>
          <button type="button" class="header-banner-overlay-button_close" aria-label="Close">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
          </button>
        </div>
      </div>
    `}}});var ft={};F(ft,{initInstallOverlaySnackbar:()=>Ho});async function Ho(){let o=!1,e=30;customElements.get("pwa-install-overlay-snackbar")||customElements.define("pwa-install-overlay-snackbar",He),window.addEventListener("scroll",()=>{if(o)return;window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100>=e&&(He.show(),o=!0)})}var tt,He,gt=D(()=>{K();me();te();({__:tt}=wp.i18n),He=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set,this.displayDuration=7e3}connectedCallback(){this.render(),this.setupInstallHandler()}static show(){let e=document.querySelector("pwa-install-overlay-snackbar");return e||(e=document.createElement("pwa-install-overlay-snackbar"),document.body.appendChild(e),requestAnimationFrame(()=>{e.shadowRoot.querySelector(".snackbar-overlay").classList.add("visible"),e.startProgressBar(),e.setupAutoHide()})),e}injectStyles(e){this.styles.add(e)}startProgressBar(){let e=this.shadowRoot.querySelector(".snackbar-overlay-progressbar_inner");e.style.width="100%",e.offsetHeight,requestAnimationFrame(()=>{e.style.width="0%"})}setupAutoHide(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(()=>{let e=this.shadowRoot.querySelector(".snackbar-overlay");e.classList.remove("visible"),e.addEventListener("transitionend",()=>{this.remove()},{once:!0})},this.displayDuration)}setupInstallHandler(){this.shadowRoot.querySelector(".snackbar-overlay-button_install").addEventListener("click",()=>{re()})}render(){let e=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",t=q(e),n=i.jsVars.settings.installation?.prompts?.text??tt("Install Web App",i.jsVars.slug),l=i.jsVars.settings.installation?.prompts?.types?.snackbar?.message??tt("Installing uses no storage and offers a quick way back to our web app.",i.jsVars.slug);this.injectStyles(`
      .snackbar-overlay {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        position: fixed;
        right: 1rem;
        left: 1rem;
        bottom: 1rem;
        border-radius: 0.5rem;
        z-index: 9999999999;
        padding: 1rem;
        background-color: ${e};
        color: ${t};
        box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        transition: all 0.2s ease-out;
        opacity: 0;
        visibility: hidden;
        overflow: hidden;
      }

      .snackbar-overlay.visible {
        opacity: 1;
        visibility: visible;
      }

      .snackbar-overlay-appinfo_title {
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 500;
        color: ${t};
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
      }

      .snackbar-overlay-appinfo_description {
        font-size: 0.75rem;
        line-height: 1rem;
        font-weight: 400;
        color: ${t}cc;
        margin-top: 0.12rem;
        text-wrap: balance;
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
      }

      .snackbar-overlay-button_install {
        display: inline-block;
        flex-shrink: 0;
        background-color: ${t};
        color: ${e};
        vertical-align: middle;
        text-decoration: none;
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 600;
        padding: 0.375rem 0.875rem;
        border: none;
        outline: none;
        border-radius: 9999px;
        cursor: pointer;
      }

      .snackbar-overlay-progressbar {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 0.25rem;
        background-color: ${e};
        overflow: hidden;
      }

      .snackbar-overlay-progressbar_inner {
        width: 100%;
        height: 100%;
        background-color: ${t}80;
        transition: width ${this.displayDuration}ms linear;
      }
    `);let c=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${c}</style>
      <div class="snackbar-overlay">
        <div class="snackbar-overlay-appinfo">
          <div class="snackbar-overlay-appinfo_title">${n}</div>
          <div class="snackbar-overlay-appinfo_description">${l}</div>
        </div>
        <button type="button" class="snackbar-overlay-button_install">
          ${tt("Install Now",i.jsVars.slug)}
        </button>
        <div class="snackbar-overlay-progressbar">
          <div class="snackbar-overlay-progressbar_inner"></div>
        </div>
      </div>
    `}}});var bt={};F(bt,{initInstallOverlayBlogPopup:()=>Do});async function Do(){let o=!1,e=10;customElements.get("pwa-install-overlay-blog-popup")||customElements.define("pwa-install-overlay-blog-popup",De),window.addEventListener("scroll",()=>{if(o)return;window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100>=e&&(De.show(),o=!0)})}var ot,De,wt=D(()=>{K();me();te();({__:ot}=wp.i18n),De=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}connectedCallback(){this.render(),this.handleRemove(),this.handlePerformInstallation()}static show(){let e=document.querySelector("pwa-install-overlay-blog-popup");return e||(e=document.createElement("pwa-install-overlay-blog-popup"),document.body.appendChild(e),requestAnimationFrame(()=>{let t=e.shadowRoot.querySelector(".blog-popup-overlay");document.documentElement.style.paddingRight=`${window.innerWidth-document.documentElement.offsetWidth}px`,document.documentElement.style.overflow="hidden",t.classList.add("visible")})),e}injectStyles(e){this.styles.add(e)}handleRemove(){let e=this.shadowRoot.querySelector(".blog-popup-overlay-button.-continue"),t=this.shadowRoot.querySelector(".blog-popup-overlay"),n=()=>{t.classList.remove("visible"),t.addEventListener("transitionend",()=>{document.documentElement.style.removeProperty("overflow"),document.documentElement.style.paddingRight="",this.remove()},{once:!0})};e.addEventListener("click",n),t.addEventListener("click",l=>{l.target===t&&n()})}handlePerformInstallation(){this.shadowRoot.querySelector(".blog-popup-overlay-button.-install").addEventListener("click",()=>{re()})}render(){let{device:e,os:t,browser:n}=i.jsVars.userData,l=i.jsVars.settings.webAppManifest.appIdentity.appName??"",c=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",s=q(c),h=i.jsVars.iconUrl?`<img class="blog-popup-overlay-appinfo_icon" src="${i.jsVars.iconUrl}" alt="${l}" onerror="this.style.display='none'"></img>`:"",m,b;switch(!0){case n.isChrome:m="Chrome",b=i.jsVars.pluginsData.dirUrl+"/frontend/assets/media/icons/browsers/chrome.png";break;case n.isSafari:m="Safari",b=i.jsVars.pluginsData.dirUrl+"/frontend/assets/media/icons/browsers/safari.png";break;case n.isFirefox:m="Firefox",b=i.jsVars.pluginsData.dirUrl+"/frontend/assets/media/icons/browsers/firefox.png";break;case n.isOpera:m="Opera",b=i.jsVars.pluginsData.dirUrl+"/frontend/assets/media/icons/browsers/opera.png";break;case n.isEdge:m="Edge",b=i.jsVars.pluginsData.dirUrl+"/frontend/assets/media/icons/browsers/edge.png";break;case n.isSamsung:m="Samsung Browser",b=i.jsVars.pluginsData.dirUrl+"/frontend/assets/media/icons/browsers/samsung.png";break;case n.isYandex:m="Yandex Browser",b=i.jsVars.pluginsData.dirUrl+"/frontend/assets/media/icons/browsers/yandex.png";break;case n.isDuckduckgo:m="DuckDuckGo",b=i.jsVars.pluginsData.dirUrl+"/frontend/assets/media/icons/browsers/duckduckgo.png";break;case n.isBrave:m="Brave",b=i.jsVars.pluginsData.dirUrl+"/frontend/assets/media/icons/browsers/brave.png";break;case n.isQq:m="QQ Browser",b=i.jsVars.pluginsData.dirUrl+"/frontend/assets/media/icons/browsers/qq.png";break;case n.isUc:m="UC Browser",b=i.jsVars.pluginsData.dirUrl+"/frontend/assets/media/icons/browsers/uc.png";break;default:m="Browser",b=i.jsVars.pluginsData.dirUrl+"/frontend/assets/media/icons/unknown.png";break}this.injectStyles(`
      .blog-popup-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 9999999999;
        background: rgba(0, 0, 0, 0);
        -webkit-backdrop-filter: blur(0px);
                backdrop-filter: blur(0px);
        -webkit-transition: all 0.2s ease-out;
        -o-transition: all 0.2s ease-out;
        transition: all 0.2s ease-out;
        opacity: 0;
        visibility: hidden;
      }

      .blog-popup-overlay.visible {
        background: rgba(0, 0, 0, 0.7);
        -webkit-backdrop-filter: blur(5px);
                backdrop-filter: blur(5px);
        opacity: 1;
        visibility: visible;
      }

      .blog-popup-overlay-container {
        position: fixed;
        width: 100%;
        bottom: 0;
        left: 0;
        background-color: #fff;
        border-top-left-radius: 1rem;
        border-top-right-radius: 1rem;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        -webkit-transition: all 0.15s ease-out;
             -o-transition: all 0.15s ease-out;
                transition: all 0.15s ease-out;
        z-index: 9999999999;
        -webkit-transform: translateY(100%);
            -ms-transform: translateY(100%);
                transform: translateY(100%);
      }

      .blog-popup-overlay.visible .blog-popup-overlay-container {
        -webkit-transform: translateY(0);
            -ms-transform: translateY(0);
                transform: translateY(0);
      }

      .blog-popup-overlay-header {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        padding: 0.75rem 1rem;
        gap: 1.5rem;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        border-bottom: 1px solid #e5e7eb;
      }

      .blog-popup-overlay-header_title {
        font-size: 1rem;
        line-height: 1.5rem;
        font-weight: 500;
        color: #1f2937;
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
      }

      .blog-popup-overlay-body {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-orient: vertical;
        -webkit-box-direction: normal;
            -ms-flex-direction: column;
                flex-direction: column;
        gap: 1.25rem;
        padding: 1.5rem;
        overflow-y: auto;
      }

      .blog-popup-overlay-body::-webkit-scrollbar {
        width: .5rem;
      }

      .blog-popup-overlay-body::-webkit-scrollbar-thumb {
        background-color: rgb(209 213 219 / 1);
        border-radius: 9999px;
      }

      .blog-popup-overlay-body::-webkit-scrollbar-track {
        background-color: rgb(243 244 246 / 1);
      }

      .blog-popup-overlay-appinfo,
      .blog-popup-overlay-browserinfo {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-pack: justify;
            -ms-flex-pack: justify;
                justify-content: space-between;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        gap: 1rem;        
      }

      .blog-popup-overlay-appinfo_media,
      .blog-popup-overlay-browserinfo_media {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        gap: 0.5rem;
      }

      .blog-popup-overlay-appinfo_icon,
      .blog-popup-overlay-browserinfo_icon {
        border-radius: 9999px;
        -ms-flex-negative: 0;
            flex-shrink: 0;
        height: 48px;
        width: 48px;
        display: inline-block;
      }

      .blog-popup-overlay-appinfo_appname,
      .blog-popup-overlay-browserinfo_title {
        font-size: 1rem;
        line-height: 1.5rem;
        font-weight: 500;
        color: #1f2937;
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
      }

      .blog-popup-overlay-button {
        border-radius: 9999px;
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 700;
        height: 2.5rem;
        border: none;
        outline: none;
        padding: 0;
        text-align: center;
        text-transform: capitalize;
        width: 6rem;
      }

      .blog-popup-overlay-button.-install {
        background-color: ${c};
        color: ${s};
      }

      .blog-popup-overlay-button.-continue {
        background-color: #d9dee2;
        color: #787c7e;
        border: 1px solid #d3d6da;
      }
    `);let x=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${x}</style>
      <div class="blog-popup-overlay">
        <div class="blog-popup-overlay-container">
          <div class="blog-popup-overlay-header">
            <div class="blog-popup-overlay-header_title">${ot("Read this article in our web app",i.jsVars.slug)}</div>
          </div>
          <div class="blog-popup-overlay-body">
            <div class="blog-popup-overlay-appinfo">
              <div class="blog-popup-overlay-appinfo_media">
                ${h}
                <div class="blog-popup-overlay-appinfo_appname">${l}</div>
              </div>
              <button type="button" class="blog-popup-overlay-button -install">
                ${ot("Open",i.jsVars.slug)}
              </button>
            </div>
            <div class="blog-popup-overlay-browserinfo">
              <div class="blog-popup-overlay-browserinfo_media">
                <img class="blog-popup-overlay-browserinfo_icon" src="${b}" alt="${m}" onerror="this.style.display='none'"></img>
                <div class="blog-popup-overlay-browserinfo_title">${m}</div>
              </div>
              <button type="button" class="blog-popup-overlay-button -continue">
                ${ot("Continue",i.jsVars.slug)}
              </button>
            </div>     
          </div>
        </div>
      </div>
    `}}});var yt={};F(yt,{initInstallOverlayNavigationMenu:()=>Bo});async function Bo(){customElements.get("pwa-install-overlay-navigation-menu")||customElements.define("pwa-install-overlay-navigation-menu",Ee),Ee.show(),setTimeout(()=>{Ee.show()},1e3)}var nt,Ee,vt=D(()=>{K();me();te();({__:nt}=wp.i18n),Ee=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}connectedCallback(){this.render(),this.handlePerformInstallation()}static findVisibleMenuElement(e){if(e.tagName.toLowerCase()==="ul"&&window.getComputedStyle(e).display!=="none"&&e.querySelector("li"))return e;for(let t of e.children){let n=this.findVisibleMenuElement(t);if(n)return n}return null}static findMobileMenu(){let e=[".wp-block-navigation","#ast-mobile-header","#mobile-menu",".mobile-menu",".mobile-navigation",'[class*="mobile-header"]','[id*="mobile-header"]','[class*="mobile-menu"]','[id*="mobile-menu"]',"nav","header"];for(let t of e){let n=document.querySelectorAll(t);for(let l of n)if(window.getComputedStyle(l).display!=="none"){let c=this.findVisibleMenuElement(l);if(c)return{container:l,menu:c}}}return null}static show(){let e=document.querySelector("pwa-install-overlay-navigation-menu");if(!e){let t=this.findMobileMenu();if(t?.menu){e=document.createElement("pwa-install-overlay-navigation-menu");let n=document.createElement("li");n.className="menu-item pwa-install-menu-item";let l=t.menu.querySelector("li");if(l){let c=Array.from(l.classList).filter(s=>!s.includes("current")&&!s.includes("active"));n.classList.add(...c)}n.appendChild(e),t.menu.appendChild(n)}}return e}injectStyles(e){this.styles.add(e)}handlePerformInstallation(){this.shadowRoot.querySelector(".navigation-menu-overlay-button_install")?.addEventListener("click",()=>{re()})}render(){let e=i.jsVars.settings.webAppManifest.appIdentity.appName??"",t=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",n=q(t),l=i.jsVars.settings.installation?.prompts?.text??nt("Install Web App",i.jsVars.slug),c=i.jsVars.settings.installation?.prompts?.types?.navigationMenu?.message??nt("Find what you need faster by installing our web app!",i.jsVars.slug),s=i.jsVars.iconUrl?`<img class="navigation-menu-overlay-appinfo_icon" src="${i.jsVars.iconUrl}" alt="${e}" onerror="this.style.display='none'"/>`:"";this.injectStyles(`
      .navigation-menu-overlay {
        position: relative;
        border-radius: 0.5rem;
        padding: 1rem;
        background-color: ${t};
        color: ${n};
        box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        -webkit-transition: all 0.2s ease-out;
        -o-transition: all 0.2s ease-out;
        transition: all 0.2s ease-out;
        overflow: hidden;
        text-transform: none;
      }

      .navigation-menu-overlay-appinfo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        flex: 1;
      }

      .navigation-menu-overlay-appinfo_icon {
        border-radius: 9999px;
        border: 1px solid #e5e7eb;
        flex-shrink: 0;
        height: 50px;
        width: 50px;
        display: inline-block;
      }

      .navigation-menu-overlay-appinfo_texts {
        flex: 1;
        min-width: 0;
      }

      .navigation-menu-overlay-appinfo_title {
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 500;
        color: ${n};
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
      }

      .navigation-menu-overlay-appinfo_description {
        font-size: 0.75rem;
        line-height: 1rem;
        font-weight: 400;
        color: ${n}cc;
        margin-top: 0.12rem;
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
      }

      .navigation-menu-overlay-button_install {
        display: block;
        background-color: ${n};
        color: ${t};
        vertical-align: middle;
        text-decoration: none;
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 600;
        padding: 0.375rem 0.875rem;
        margin-left: auto;
        margin-top: 1rem;
        border: none;
        outline: none;
        border-radius: 9999px;
        cursor: pointer;
      }
    `);let h=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${h}</style>
      <div class="navigation-menu-overlay">
        <div class="navigation-menu-overlay-appinfo">
          ${s}
          <div class="navigation-menu-overlay-appinfo_texts">
            <div class="navigation-menu-overlay-appinfo_title">${l}</div>
            <div class="navigation-menu-overlay-appinfo_description">${c}</div>
          </div>
        </div>
        <button type="button" class="navigation-menu-overlay-button_install">
          ${nt("Install Now",i.jsVars.slug)}
        </button>
      </div>
    `}}});var xt={};F(xt,{initInstallOverlayInFeed:()=>Ro});async function Ro(){customElements.get("pwa-install-overlay-in-feed")||customElements.define("pwa-install-overlay-in-feed",_e),_e.show(),setTimeout(()=>{_e.show()},1e3)}var it,_e,kt=D(()=>{K();me();te();({__:it}=wp.i18n),_e=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}connectedCallback(){this.render(),this.handlePerformInstallation()}static async findFeedContainer(){let e=[".post-list",".posts",".post-loop",".blog-posts",".content-area",".site-main","#main","#content","main",".entry-content"],t=[".post",".entry",".article",".blog-post",".hentry","article"],n=null;for(let c of e){let s=document.querySelector(c);if(s){n=s;break}}if(!n)return null;let l=null;for(let c of t){let s=n.querySelectorAll(c);if(s.length>0){l=s;break}}return{feedContainer:n,feedItems:l}}static async show(){let e=document.querySelector("pwa-install-overlay-in-feed");if(!e){e=document.createElement("pwa-install-overlay-in-feed");let t=await this.findFeedContainer();if(t&&t.feedItems?.length>=4){let n=t.feedItems[3],l=document.createElement("div");l.className="pwa-install-overlay-wrapper",l.appendChild(e),n.parentNode.insertBefore(l,n.nextSibling)}}return e}injectStyles(e){this.styles.add(e)}handlePerformInstallation(){this.shadowRoot.querySelector(".in-feed-overlay-button_install")?.addEventListener("click",()=>{re()})}render(){let e=i.jsVars.settings.webAppManifest.appIdentity.appName??"",t=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",n=q(t),l=i.jsVars.settings.installation?.prompts?.text??it("Install Web App",i.jsVars.slug),c=i.jsVars.settings.installation?.prompts?.types?.inFeed?.message??it("Keep reading, even when you're on the train!",i.jsVars.slug),s=i.jsVars.iconUrl?`<img class="in-feed-overlay-appinfo_icon" src="${i.jsVars.iconUrl}" alt="${e}" onerror="this.style.display='none'"/>`:"";this.injectStyles(`
      .in-feed-overlay {
        position: relative;
        border-radius: 0.5rem;
        padding: 1rem;
        background-color: ${t};
        color: ${n};
        box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        -webkit-transition: all 0.2s ease-out;
        -o-transition: all 0.2s ease-out;
        transition: all 0.2s ease-out;
        overflow: hidden;
        text-transform: none;
      }

      .in-feed-overlay-appinfo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        flex: 1;
      }

      .in-feed-overlay-appinfo_icon {
        border-radius: 9999px;
        border: 1px solid #e5e7eb;
        flex-shrink: 0;
        height: 50px;
        width: 50px;
        display: inline-block;
      }

      .in-feed-overlay-appinfo_texts {
        flex: 1;
        min-width: 0;
      }

      .in-feed-overlay-appinfo_title {
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 500;
        color: ${n};
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
      }

      .in-feed-overlay-appinfo_description {
        font-size: 0.75rem;
        line-height: 1rem;
        font-weight: 400;
        color: ${n}cc;
        margin-top: 0.12rem;
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
      }

      .in-feed-overlay-button_install {
        display: block;
        background-color: ${n};
        color: ${t};
        vertical-align: middle;
        text-decoration: none;
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 600;
        padding: 0.375rem 0.875rem;
        margin-left: auto;
        margin-top: 1rem;
        border: none;
        outline: none;
        border-radius: 9999px;
        cursor: pointer;
      }
    `);let h=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${h}</style>
      <div class="in-feed-overlay">
        <div class="in-feed-overlay-appinfo">
          ${s}
          <div class="in-feed-overlay-appinfo_texts">
            <div class="in-feed-overlay-appinfo_title">${l}</div>
            <div class="in-feed-overlay-appinfo_description">${c}</div>
          </div>
        </div>
        <button type="button" class="in-feed-overlay-button_install">
          ${it("Install Now",i.jsVars.slug)}
        </button>
      </div>
    `}}});var St={};F(St,{initInstallOverlayWoocommerceCheckout:()=>Uo});async function Uo(){customElements.get("pwa-install-overlay-woocommerce-checkout")||customElements.define("pwa-install-overlay-woocommerce-checkout",Le),Le.show(),setTimeout(()=>{Le.show()},1e3)}var rt,Le,Tt=D(()=>{K();me();te();({__:rt}=wp.i18n),Le=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}connectedCallback(){this.render(),this.handlePerformInstallation()}static findCheckoutForm(){let e=["form.wc-block-checkout__form","form.woocommerce-checkout"];for(let t of e){let n=document.querySelector(t);if(n)return n}return null}static show(){let e=document.querySelector("pwa-install-overlay-woocommerce-checkout");if(!e){let t=this.findCheckoutForm();t&&(e=document.createElement("pwa-install-overlay-woocommerce-checkout"),t.parentNode.insertBefore(e,t.nextSibling))}return e}injectStyles(e){this.styles.add(e)}handlePerformInstallation(){this.shadowRoot.querySelector(".woocommerce-checkout-overlay-button_install")?.addEventListener("click",()=>{re()})}render(){let e=i.jsVars.settings.webAppManifest.appIdentity.appName??"",t=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",n=q(t),l=i.jsVars.settings.installation?.prompts?.text??rt("Install Web App",i.jsVars.slug),c=i.jsVars.settings.installation?.prompts?.types?.woocommerceCheckout?.message??rt("Keep track of your orders. Our web app is fast, small and works offline.",i.jsVars.slug),s=i.jsVars.iconUrl?`<img class="woocommerce-checkout-overlay-appinfo_icon" src="${i.jsVars.iconUrl}" alt="${e}" onerror="this.style.display='none'"/>`:"";this.injectStyles(`
      .woocommerce-checkout-overlay {
        position: relative;
        border-radius: 0.5rem;
        padding: 1rem;
        margin-top: 2rem;
        background-color: ${t};
        color: ${n};
        box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        -webkit-transition: all 0.2s ease-out;
        -o-transition: all 0.2s ease-out;
        transition: all 0.2s ease-out;
        overflow: hidden;
        text-transform: none;
      }

      .woocommerce-checkout-overlay-appinfo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        flex: 1;
      }

      .woocommerce-checkout-overlay-appinfo_icon {
        border-radius: 9999px;
        border: 1px solid #e5e7eb;
        flex-shrink: 0;
        height: 50px;
        width: 50px;
        display: inline-block;
      }

      .woocommerce-checkout-overlay-appinfo_texts {
        flex: 1;
        min-width: 0;
      }

      .woocommerce-checkout-overlay-appinfo_title {
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 500;
        color: ${n};
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
      }

      .woocommerce-checkout-overlay-appinfo_description {
        font-size: 0.75rem;
        line-height: 1rem;
        font-weight: 400;
        color: ${n}cc;
        margin-top: 0.12rem;
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
      }

      .woocommerce-checkout-overlay-button_install {
        display: block;
        background-color: ${n};
        color: ${t};
        vertical-align: middle;
        text-decoration: none;
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 600;
        padding: 0.375rem 0.875rem;
        margin-left: auto;
        margin-top: 1rem;
        border: none;
        outline: none;
        border-radius: 9999px;
        cursor: pointer;
      }
    `);let h=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${h}</style>
      <div class="woocommerce-checkout-overlay">
        <div class="woocommerce-checkout-overlay-appinfo">
          ${s}
          <div class="woocommerce-checkout-overlay-appinfo_texts">
            <div class="woocommerce-checkout-overlay-appinfo_title">${l}</div>
            <div class="woocommerce-checkout-overlay-appinfo_description">${c}</div>
          </div>
        </div>
        <button type="button" class="woocommerce-checkout-overlay-button_install">
          ${rt("Install Now",i.jsVars.slug)}
        </button>
      </div>
    `}}});var qt={};F(qt,{initOfflineNotification:()=>zo});async function zo(){customElements.get("pwa-offline-notification")||customElements.define("pwa-offline-notification",ve),navigator.onLine||ve.showReconnecting(),window.addEventListener("offline",()=>{ve.showReconnecting()}),window.addEventListener("online",()=>{ve.showReconnected()})}var st,ve,Ct=D(()=>{K();te();({__:st}=wp.i18n),ve=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}connectedCallback(){this.render()}injectStyles(e){this.styles.add(e)}static showReconnecting(){let e=document.querySelector("pwa-offline-notification");return e||(e=document.createElement("pwa-offline-notification"),document.body.appendChild(e)),requestAnimationFrame(()=>{let t=e.shadowRoot.querySelector(".offline-notification"),n=t.querySelector(".offline-notification_icon"),l=t.querySelector(".offline-notification_text");t.classList.remove("reconnected"),n.classList.add("spinner"),n.classList.remove("success"),l.textContent=st("Connection lost. Attempting to reconnect...",i.jsVars.slug),setTimeout(()=>{t.classList.add("visible")},300)}),e}static showReconnected(){let e=document.querySelector("pwa-offline-notification");if(!e)return;let t=e.shadowRoot.querySelector(".offline-notification"),n=t.querySelector(".offline-notification_icon"),l=t.querySelector(".offline-notification_text");t.classList.add("reconnected"),n.classList.remove("spinner"),n.classList.add("success"),l.textContent=st("Successfully reconnected to the internet!",i.jsVars.slug),e._removeTimeout&&clearTimeout(e._removeTimeout),e._removeTimeout=setTimeout(()=>{t.classList.remove("visible"),t.addEventListener("transitionend",()=>{e.remove()},{once:!0})},2e3)}render(){let e=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",t=q(e),n=q(t);this.injectStyles(`
      .offline-notification {
        position: fixed;
        top: 0;
        left: 50%;
        -webkit-transform: translateX(-50%) translateY(-100%);
            -ms-transform: translateX(-50%) translateY(-100%);
                transform: translateX(-50%) translateY(-100%);
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        padding: 0.75rem 1rem;
        gap: 0.75rem;
        width: 30rem;
        max-width: 85%;
        background-color: ${t};
        color: ${n};
        border: 1px solid ${n}15;
        border-radius: 0.75rem;
        -webkit-box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
                box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        z-index: 9999999999999999;
        -webkit-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        -o-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        opacity: 0;
        visibility: hidden;
      }

      .offline-notification.visible {
        opacity: 1;
        visibility: visible;
        -webkit-transform: translateX(-50%) translateY(1rem);
            -ms-transform: translateX(-50%) translateY(1rem);
                transform: translateX(-50%) translateY(1rem);
      }

      .offline-notification_icon {
        display: inline-block;
        flex-shrink: 0;
        width: 12px;
        height: 12px;
        border-radius: 9999px;
      }

      .offline-notification_icon.spinner {
        -webkit-animation: spin 1s linear infinite;
                animation: spin 1s linear infinite;
        border: 3px solid ${e};
        border-top-color: transparent;
      }

      .offline-notification_icon.success {
        background-color: #22c55e;
        border-radius: 9999px;
      }

      .offline-notification_text {
        font-size: 0.875rem;
        line-height: 1.25rem;
      }

      @-webkit-keyframes spin {
        to {
          -webkit-transform: rotate(360deg);
                  transform: rotate(360deg);
        }
      }

      @keyframes spin {
        to {
          -webkit-transform: rotate(360deg);
                  transform: rotate(360deg);
        }
      }
    `);let l=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${l}</style>
      <div class="offline-notification" role="alert" tabindex="-1">
        <div class="offline-notification_icon spinner" role="status" aria-label="loading"></div>
        <span class="offline-notification_text">
          ${st("Connection lost. Attempting to reconnect...",i.jsVars.slug)}
        </span>
      </div>
    `}}});var Et={};F(Et,{initOfflineForms:()=>Oo});function No(o){if(!navigator.onLine){o.preventDefault(),o.stopPropagation();let e=o.target,t=new FormData(e),n={formId:e.id||`pwa-form-${Math.random().toString(36).slice(2,9)}`,submitId:`${e.id}-${Date.now()}`,url:e.action||window.location.href,method:(e.method||"POST").toUpperCase(),timestamp:Date.now(),data:Object.fromEntries(t),contentType:e.enctype||"application/x-www-form-urlencoded"};xe.show(n)}}async function Oo(){customElements.get("pwa-offline-form-handler")||customElements.define("pwa-offline-form-handler",xe),document.querySelectorAll("form:not([data-no-offline])").forEach(e=>{e.addEventListener("submit",No,!0)}),navigator.onLine&&xe.submitStoredForms(),window.addEventListener("online",()=>{xe.submitStoredForms()})}var jt,xe,_t=D(()=>{K();te();({__:jt}=wp.i18n),xe=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set,this.formData=null}connectedCallback(){this.render(),this.setupEventHandlers()}injectStyles(e){this.styles.add(e)}static show(e){let t=document.querySelector("pwa-offline-form-handler");return t||(t=document.createElement("pwa-offline-form-handler"),t.formData=e,document.body.appendChild(t),requestAnimationFrame(()=>{let n=t.shadowRoot.querySelector(".offline-form-handler");document.documentElement.style.paddingRight=`${window.innerWidth-document.documentElement.offsetWidth}px`,document.documentElement.style.overflow="hidden",n.classList.add("visible")})),t}setupEventHandlers(){let e=this.shadowRoot.querySelector(".offline-form-handler-footer-button.-cancel"),t=this.shadowRoot.querySelector(".offline-form-handler-footer-button.-proceed"),n=this.shadowRoot.querySelector(".offline-form-handler-container"),l=this.shadowRoot.querySelector(".offline-form-handler"),c=()=>{l.classList.remove("visible"),l.addEventListener("transitionend",()=>{document.documentElement.style.removeProperty("overflow"),document.documentElement.style.paddingRight="",this.remove()},{once:!0})},s=async()=>{n.classList.add("-proceeding"),await this.storeFormSubmission(this.formData),c()};e.addEventListener("click",c),t.addEventListener("click",s),l.addEventListener("click",h=>{h.target===l&&c()})}async storeFormSubmission(e){try{let t=JSON.parse(localStorage.getItem("pwaOfflineForms"))||{};return t[e.submitId]=e,localStorage.setItem("pwaOfflineForms",JSON.stringify(t)),!0}catch(t){return console.error("Failed to store form data:",t),!1}}static async submitStoredForms(){let e="pwaOfflineFormsProcessing",t=localStorage.getItem(e);if(t&&Date.now()-parseInt(t)>60*1e3&&localStorage.removeItem(e),!localStorage.getItem(e))try{localStorage.setItem(e,Date.now().toString());let n=JSON.parse(localStorage.getItem("pwaOfflineForms"))||{};for(let l in n){let c=n[l];if(Date.now()-c.timestamp>24*60*60*1e3){delete n[l];continue}try{await this.submitForm(c),delete n[l]}catch(s){console.error("Failed to submit stored form:",s),!s.message.includes("Failed to fetch")&&!s.message.includes("NetworkError")&&delete n[l]}localStorage.setItem("pwaOfflineForms",JSON.stringify(n))}}catch(n){console.error("Error processing offline forms:",n)}finally{localStorage.removeItem(e)}}static async submitForm(e){let{url:t,method:n,data:l,contentType:c}=e,s=n.toUpperCase()==="GET",h=t,m,b=new Headers({"X-Requested-With":"XMLHttpRequest"});if(typeof wpApiSettings<"u"&&wpApiSettings.nonce&&b.append("X-WP-Nonce",wpApiSettings.nonce),s){let k=new URLSearchParams;Object.entries(l).forEach(([$,P])=>{Array.isArray(P)?P.forEach(R=>k.append(`${$}[]`,R)):k.append($,P)}),h=`${t}${t.includes("?")?"&":"?"}${k.toString()}`}else if(c.includes("multipart/form-data"))m=new FormData,Object.entries(l).forEach(([k,$])=>{Array.isArray($)?$.forEach(P=>m.append(`${k}[]`,P)):m.append(k,$)});else if(b.append("Content-Type",c),c.includes("json"))m=JSON.stringify(l);else{let k=new URLSearchParams;Object.entries(l).forEach(([$,P])=>{Array.isArray(P)?P.forEach(R=>k.append(`${$}[]`,R)):k.append($,P)}),m=k.toString()}let x={method:n,headers:b,credentials:"same-origin"};s||(x.body=m);let C=await fetch(h,x);if(!C.ok)throw new Error(`Server returned ${C.status}: ${C.statusText}`);return C}render(){let e=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",t=q(e),n=q(t);this.injectStyles(`
      .offline-form-handler {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 9999999;
        background: rgba(0, 0, 0, 0);
        -webkit-backdrop-filter: blur(0px);
                backdrop-filter: blur(0px);
        -webkit-transition: all 0.2s ease-out;
        -o-transition: all 0.2s ease-out;
        transition: all 0.2s ease-out;
        opacity: 0;
        visibility: hidden;
      }

      .offline-form-handler.visible {      
        background: rgba(0, 0, 0, 0.7);
        -webkit-backdrop-filter: blur(5px);
                backdrop-filter: blur(5px);
        opacity: 1;
        visibility: visible;
      }

      .offline-form-handler-container {
        position: fixed;
        top: 50%;
        left: 50%;
        -webkit-transform: translate(-50%, calc(-50% + 20px));
            -ms-transform: translate(-50%, calc(-50% + 20px));
                transform: translate(-50%, calc(-50% + 20px));
        background: ${t};
        border-radius: 10px;
        -webkit-box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        max-width: 29rem;
        width: 95%;
        padding: 0.75rem 1rem;
        overflow: hidden;
        opacity: 0;
        -webkit-transition: all 0.15s ease-out;
        -o-transition: all 0.15s ease-out;
        transition: all 0.15s ease-out;
        z-index: 999999999999999999999;
      }

      .offline-form-handler.visible .offline-form-handler-container {
        -webkit-transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
                transform: translate(-50%, -50%);
        opacity: 1;
      }

      .offline-form-handler.visible:has(.offline-form-handler-container.-proceeding) {
        pointer-events: none;
      }

      .offline-form-handler.visible .offline-form-handler-container.-proceeding {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-orient: vertical;
        -webkit-box-direction: normal;
            -ms-flex-direction: column;
                flex-direction: column;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
      }

      .offline-form-handler.visible .offline-form-handler-container.-proceeding::before {
        content: '';
        position: absolute;
        background: rgb(255 255 255 / 0.5);
        z-index: 2;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
      }

      .offline-form-handler.visible .offline-form-handler-container.-proceeding::after {
        content: '';
        position: absolute;
        display: inline-block;
        border: 3px solid ${e};
        border-top-color: transparent;
        border-radius: 9999px;
        width: 1.5rem;
        height: 1.5rem;
        z-index: 5;
        -webkit-animation: spin 1s linear infinite;
                animation: spin 1s linear infinite;
      }

      .offline-form-handler-header {
        width: 100%;
      }

      .offline-form-handler-header-texts {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        gap: 0.5rem;
      }

      .offline-form-handler-header-texts_icon {
        width: 1.5rem;
        height: 1.5rem;
        color: ${n}b3;
      }

      .offline-form-handler-header-texts_title {
        font-size: 1.125rem;
        line-height: 1.75rem;
        font-weight: 500;
        color: ${n};
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
      }

      .offline-form-handler-body {
        margin-top: 0.75rem;
        overflow-y: auto;
        max-height: 34rem;
      }

      .offline-form-handler-body_message {
        font-size: 0.875rem;
        line-height: 1.25rem;
        color: ${n}b3;
      }

      .offline-form-handler-footer {
        margin-top: 0.75rem;
        width: 100%;
      }

      .offline-form-handler-footer-buttons {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-pack: end;
            -ms-flex-pack: end;
                justify-content: flex-end;
        gap: 0.5rem;
        margin-top: 1rem;
      }

      .offline-form-handler-footer-button {
        display: -webkit-inline-box;
        display: -ms-inline-flexbox;
        display: inline-flex;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        padding: 0.5rem 0.75rem;
        font-weight: 500;
        font-size: 0.75rem;
        line-height: 1rem;
        border-radius: 0.5rem;
        -webkit-transition: all 0.1s ease;
        -o-transition: all 0.1s ease;
        transition: all 0.1s ease;
        cursor: pointer;
        outline: none;
        border: none;
      }

      .offline-form-handler-footer-button:hover {
        opacity: 0.8;
      }

      .offline-form-handler-footer-button:focus {
        outline: none;
        border: none;
      }

      .offline-form-handler-footer-button.-cancel {
        -webkit-box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
                box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        color: ${n};
        background: ${t};
        border: 1px solid ${n}1a;
      }

      .offline-form-handler-footer-button.-proceed {
        color: ${t};
        background: ${e};
      }

      @media (max-width: 700px) {
        .offline-form-handler-container {
          max-width: 100%;
          top: unset;
          bottom: 0;
          left: 0;
          border-top-left-radius: 1rem;
          border-top-right-radius: 1rem;
          border-bottom-left-radius: 0;
          border-bottom-right-radius: 0;
          -webkit-box-shadow: none;
                  box-shadow: none;
          opacity: 1;
          -webkit-transform: translateY(100%);
              -ms-transform: translateY(100%);
                  transform: translateY(100%);
        } 

        .offline-form-handler.visible .offline-form-handler-container {
          -webkit-transform: translateY(0);
              -ms-transform: translateY(0);
                  transform: translateY(0);
        }

        .offline-form-handler-footer-buttons {
          -webkit-box-orient: vertical;
          -webkit-box-direction: reverse;
              -ms-flex-direction: column-reverse;
                  flex-direction: column-reverse;
        }

        .offline-form-handler-footer-button {
          padding: 0.75rem;
        }
      }

      @-webkit-keyframes spin {
        to {
          -webkit-transform: rotate(360deg);
                  transform: rotate(360deg);
        }
      }

      @keyframes spin {
        to {
          -webkit-transform: rotate(360deg);
                  transform: rotate(360deg);
        }
      }
    `);let l=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${l}</style>
      <div class="offline-form-handler">
        <div class="offline-form-handler-container">
          <div class="offline-form-handler-header">
            <div class="offline-form-handler-header-texts">
              <svg class="offline-form-handler-header-texts_icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-wifi-off"><path d="M12 20h.01"/><path d="M8.5 16.429a5 5 0 0 1 7 0"/><path d="M5 12.859a10 10 0 0 1 5.17-2.69"/><path d="M19 12.859a10 10 0 0 0-2.007-1.523"/><path d="M2 8.82a15 15 0 0 1 4.177-2.643"/><path d="M22 8.82a15 15 0 0 0-11.288-3.764"/><path d="m2 2 20 20"/></svg>
              <div class="offline-form-handler-header-texts_title">${jt("No Internet Connection",i.jsVars.slug)}</div>
            </div>
          </div>
          <div class="offline-form-handler-body">
            <div class="offline-form-handler-body_message">${jt("You\u2019re currently offline. Your form submission data will be saved and be automatically processed in the background when you\u2019re back online within 24 hours. Would you like to proceed?",i.jsVars.slug)}</div>
          </div>
          <div class="offline-form-handler-footer">
            <div class="offline-form-handler-footer-buttons">
              <button type="button" class="offline-form-handler-footer-button -cancel">
                Cancel
              </button>
              <button type="button" class="offline-form-handler-footer-button -proceed">
                Yes, Please
              </button>
            </div>
          </div>
        </div>
      </div>
    `}}});var Lt={};F(Lt,{initNavigationTabBar:()=>Fo});async function Fo(){customElements.get("pwa-navigation-tab-bar")||customElements.define("pwa-navigation-tab-bar",Be),Be.show()}var Be,Pt=D(()=>{K();te();Be=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}connectedCallback(){this.render()}static show(){let e=document.querySelector("pwa-navigation-tab-bar");return e||(e=document.createElement("pwa-navigation-tab-bar"),document.body.appendChild(e)),e}injectStyles(e){this.styles.add(e)}async renderTabBarItems(){let e=i.jsVars.settings.uiComponents.navigationTabBar.navigationItems||[],t=new URL(window.location.href),n=t.origin+t.pathname;return(await Promise.all(e.map(async c=>{let{icon:s,label:h,page:m}=c,b="";try{b=await(await fetch(s)).text()}catch(x){console.error(`Failed to load SVG from ${s}`,x)}return`
          <li class="navigation-tab-bar_item ${n===m?"-active":""}">
            <a class="navigation-tab-bar_link" href="${m}">
              <span class="navigation-tab-bar_icon">
                ${b}
              </span>
              <span class="navigation-tab-bar_label">${h}</span>
            </a>
          </li>
        `}))).join("")}async render(){let e=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",t=q(e),n=q(t),l=t==="#ffffff"?"#e5e7eb":"#404040";this.injectStyles(`
      .navigation-tab-bar {
        position: fixed;
        display: flex;
        justify-content: center;
        align-items: center;
        bottom: 0;
        left: 0;
        right: 0;
        margin: 0;
        padding: 0;
        padding-bottom: env(safe-area-inset-bottom);
        width: 100%;
        z-index: 999999999;
        height: 3.5rem;
        background-color: ${t};
        border-top: 1px solid ${l};
      }

      .navigation-tab-bar_list {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: space-around;
        list-style: none;
        width: 95%;
        height: 100%;
        margin: 0;
        padding: 0;
      }

      .navigation-tab-bar_item {
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        flex: 1 1 0;
        width: 0;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .navigation-tab-bar_link {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 0.5rem;
        text-decoration: none;
        transition: all 0.2s ease;
      }

      .navigation-tab-bar_icon {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 0.125rem;
      }

      .navigation-tab-bar_icon svg {
        width: 1.25rem;
        height: 1.25rem;
        color: ${n}99;
      }

      .navigation-tab-bar_label {
        display: block;
        font-size: 0.75rem;
        line-height: 1rem;
        font-weight: 500;
        text-align: center;
        color: ${n}99;
      }

      .navigation-tab-bar_item.-active .navigation-tab-bar_icon svg {
        color: ${e};
        stroke-width: 2.25;
      }

      .navigation-tab-bar_item.-active .navigation-tab-bar_label {
        font-weight: 700;
        color: ${e};
      }
    `);let c=Array.from(this.styles).join(`
`),s=await this.renderTabBarItems();this.shadowRoot.innerHTML=`
      <style>${c}</style>
      <nav class="navigation-tab-bar">
        <ul class="navigation-tab-bar_list">
          ${s}
        </ul>
      </nav>
    `}}});var Mt={};F(Mt,{initScrollProgressBar:()=>Yo});async function Yo(){customElements.get("pwa-scroll-progress-bar")||customElements.define("pwa-scroll-progress-bar",Re),Re.show()}var Re,$t=D(()=>{K();Re=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}connectedCallback(){this.render(),this.handleScrollProgress()}static show(){let e=document.querySelector("pwa-scroll-progress-bar");return e||(e=document.createElement("pwa-scroll-progress-bar"),document.body.appendChild(e)),e}injectStyles(e){this.styles.add(e)}handleScrollProgress(){let e=this.shadowRoot.querySelector(".scroll-progress-bar_fill"),t=!1,n=()=>{let l=window.scrollY||window.pageYOffset,c=document.documentElement.scrollHeight-window.innerHeight,s=l/c*100;e.style.width=`${s}%`,t=!1};document.addEventListener("scroll",()=>{t||(window.requestAnimationFrame(()=>{n()}),t=!0)}),n()}render(){let e=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000";this.injectStyles(`
      .scroll-progress-bar {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 0.25rem;
          background-color: #ccc;
          z-index: 999999999;
          padding-top: env(safe-area-inset-top);
      }

      .scroll-progress-bar_fill {
          width: 100%;
          height: 100%;
          background-color: ${e};
          transition: width 0.01s ease-out;
      }
    `);let t=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${t}</style>
      <div class="scroll-progress-bar">
        <div class="scroll-progress-bar_fill"></div>
      </div>
    `}}});var At={};F(At,{initDarkMode:()=>Zo});async function Zo(){customElements.get("pwa-dark-mode")||customElements.define("pwa-dark-mode",Pe),Pe.show(),setTimeout(()=>{Pe.show()},1e3)}var Vt,Pe,It=D(()=>{K();({__:Vt}=wp.i18n),Pe=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set,this.darkMode=localStorage.getItem("darkMode")==="enabled",this.switchType=i.jsVars.settings.uiComponents.darkMode.type,this.icons={light:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>',dark:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>'},this.darkColorScheme={background:"#1c1c1c",surface:"#2d2d2d",surfaceLighter:"#404040",text:"#ffffff",textSecondary:"#e0e0e0",border:"#404040",link:"#66b3ff",linkVisited:"#b366ff",input:"#2d2d2d"}}connectedCallback(){this.injectGlobalStyles(),this.render(),this.handleModeChange(),this.checkSystemPreference(),this.checkBatteryLevel()}injectStyles(e){this.styles.add(e)}injectGlobalStyles(){let e=document.createElement("style");e.textContent=`
      /* Dark mode CSS variables */
      :root.dark {
        ${Object.entries(this.darkColorScheme).map(([t,n])=>`--dm-${t}: ${n};`).join(`
`)}
      }

      :root.dark * {
        background-color: var(--dm-background) !important;
        color: var(--dm-text) !important;
      }

      /* Element specific styles */
      :root.dark img:not([src*=".svg"]),
      :root.dark video,
      :root.dark iframe {
        opacity: 0.8 !important;
        -webkit-filter: brightness(0.9) !important;
                filter: brightness(0.9) !important;
      }

      :root.dark img[src*=".svg"] {
        -webkit-filter: brightness(0.9) invert(1) !important;
                filter: brightness(0.9) invert(1) !important;
      }

      :root.dark input,
      :root.dark textarea,
      :root.dark select {
        background-color: var(--dm-input) !important;
        color: var(--dm-text) !important;
        border-color: var(--dm-border) !important;
      }

      :root.dark a:not([class]) {
        color: var(--dm-link) !important;
      }

      :root.dark a:not([class]):visited {
        color: var(--dm-linkVisited) !important;
      }

      :root.dark [class*="shadow"],
      :root.dark [class*="Shadow"] {
        -webkit-box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3) !important;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3) !important;
      }

      :root.dark pre,
      :root.dark code {
        background-color: var(--dm-surfaceLighter) !important;
      }

      :root.dark table,
      :root.dark th,
      :root.dark td {
        border-color: var(--dm-border) !important;
      }

      :root.dark th {
        background-color: var(--dm-surface) !important;
      }

      :root.dark tr:nth-child(even) {
        background-color: var(--dm-surfaceLighter) !important;
      }

      :root.dark blockquote {
        background-color: var(--dm-surface) !important;
        border-left-color: var(--dm-border) !important;
      }

      /* Handle common components and frameworks */
      :root.dark header,
      :root.dark nav,
      :root.dark footer {
        background-color: var(--dm-surface) !important;
      }

      :root.dark [class*="card"],
      :root.dark [class*="panel"],
      :root.dark [class*="box"] {
        background-color: var(--dm-surface) !important;
        border-color: var(--dm-border) !important;
      }

      /* Handle WordPress specific elements */
      :root.dark .wp-block-button__link {
        background-color: var(--dm-surface) !important;
        color: var(--dm-text) !important;
      }

      :root.dark .wp-block-quote {
        border-color: var(--dm-border) !important;
      }
    `,document.head.appendChild(e)}static findMenuElement(e){let t=["ul.menu","ul.nav-menu",".wp-block-navigation__container",".main-navigation ul",".primary-menu",".menu-primary"];for(let n of t){let l=e.querySelector(n);if(l&&window.getComputedStyle(l).display!=="none"&&l.querySelector("li"))return l}for(let n of e.children){if(n.tagName.toLowerCase()==="ul"&&window.getComputedStyle(n).display!=="none"&&n.querySelector("li"))return n;let l=this.findMenuElement(n);if(l)return l}return null}static findHeader(){let e=[".site-header","#masthead",".main-header","#site-header","#ast-mobile-header","#mobile-menu",".mobile-menu",".mobile-navigation",'[class*="header"]','[id*="header"]',"header","nav"];for(let t of e){let n=document.querySelectorAll(t);for(let l of n)if(window.getComputedStyle(l).display!=="none"){let c=this.findMenuElement(l);if(c)return{container:l,menu:c}}}return null}static show(){let e=document.querySelector("pwa-dark-mode"),t=i.jsVars.settings.uiComponents.darkMode.type;if(!e)if(e=document.createElement("pwa-dark-mode"),t==="menu-switch"){let n=this.findHeader();if(n?.menu){let l=document.createElement("li");l.className="menu-item pwa-dark-mode-item";let c=n.menu.querySelector("li");if(c){let s=Array.from(c.classList).filter(h=>!h.includes("current")&&!h.includes("active"));l.classList.add(...s)}l.appendChild(e),n.menu.appendChild(l)}}else document.body.appendChild(e);return e}async checkBatteryLevel(){if(i.jsVars.settings.uiComponents.darkMode.batteryLow==="on"&&"getBattery"in navigator)try{let e=await navigator.getBattery();e.level<.1&&this.enableDarkMode(),e.addEventListener("levelchange",()=>{e.level<.1&&this.enableDarkMode()})}catch(e){console.warn("Battery status check failed:",e)}}checkSystemPreference(){if(i.jsVars.settings.uiComponents.darkMode.osAware==="on"){let e=document.createElement("meta");e.setAttribute("name","color-scheme"),e.setAttribute("content","dark light"),document.head.appendChild(e),window.matchMedia("(prefers-color-scheme: dark)").matches&&this.enableDarkMode(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{t.matches?this.enableDarkMode():this.disableDarkMode()})}}enableDarkMode(){document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","enabled"),this.shadowRoot.querySelector(".dark-mode-floating, .dark-mode-menu").classList.add("-dark"),this.darkMode=!0,this.updateIcon(),this.dispatchEvent(new CustomEvent("darkModeChange",{detail:{enabled:!0},bubbles:!0}))}disableDarkMode(){document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","disabled"),this.shadowRoot.querySelector(".dark-mode-floating, .dark-mode-menu").classList.remove("-dark"),this.darkMode=!1,this.updateIcon(),this.dispatchEvent(new CustomEvent("darkModeChange",{detail:{enabled:!1},bubbles:!0}))}updateIcon(){let e=this.shadowRoot.querySelector(".dark-mode-floating-icon, .dark-mode-menu-icon");e&&(e.innerHTML=this.darkMode?this.icons.dark:this.icons.light)}handleModeChange(){let e=this.shadowRoot.querySelector(".dark-mode-floating, .dark-mode-menu");e&&e.addEventListener("click",t=>{this.darkMode?this.disableDarkMode():this.enableDarkMode()}),localStorage.getItem("darkMode")==="enabled"&&this.enableDarkMode()}renderMenuSwitch(){return this.injectStyles(`
      .dark-mode-menu {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        position: relative;
        border-radius: 9999px;
        width: 40px;
        height: 22px;
        -ms-flex-negative: 0;
            flex-shrink: 0;
        border: 1px solid #c2c2c4;
        background-color: #eff0f3;
        outline: none;
        cursor: pointer;
      }

      .dark-mode-menu.-dark {
        border: 1px solid #3c3f44;
        background-color: #272a2f;
      }
  
      .dark-mode-menu-icon {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        position: absolute;
        left: 1px;
        width: 12px;
        height: 12px;
        padding: 4px;
        border-radius: 50%;
        color: #48484e;
        background-color: #ffffff;
        -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, .04), 0 1px 2px rgba(0, 0, 0, .06);
                box-shadow: 0 1px 2px rgba(0, 0, 0, .04), 0 1px 2px rgba(0, 0, 0, .06);
        -webkit-transition: -webkit-transform .25s !important;
        transition: -webkit-transform .25s !important;
        -o-transition: transform .25s !important;
        transition: transform .25s !important;
        transition: transform .25s, -webkit-transform .25s !important;
      }

      .dark-mode-menu.-dark .dark-mode-menu-icon {
        background-color: #000000;
        color: #ffffff;
        -webkit-transform: translate(18px);
            -ms-transform: translate(18px);
                transform: translate(18px);
      }
    `),`
      <div class="dark-mode-menu ${this.darkMode?"-dark":""}" aria-label="${Vt("Toggle dark mode")}">
        <span class="dark-mode-menu-icon">
          ${this.darkMode?this.icons.dark:this.icons.light}
        </span>
      </div>
    `}renderFloatingButton(){return this.injectStyles(`
      .dark-mode-floating {
        position: fixed;
        bottom: ${document.querySelector("pwa-navigation-tab-bar")?"70px":"20px"};
        right: 20px;
        z-index: 999;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        width: 50px;
        height: 50px;
        background: #eff0f3;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        -webkit-box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      }

      .dark-mode-floating.-dark {
        background: #000000;
      }
  
      .dark-mode-floating-icon {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        width: 18px;
        height: 18px;
        color: #48484e;
      }

      .dark-mode-floating.-dark .dark-mode-floating-icon {
        color: #ffffff;
      }
    `),`
      <div class="dark-mode-floating" aria-label="${Vt("Toggle dark mode")}">
        <span class="dark-mode-floating-icon">
          ${this.darkMode?this.icons.dark:this.icons.light}
        </span>
      </div>
    `}render(){let e;switch(this.switchType){case"menu-switch":e=this.renderMenuSwitch();break;case"floating-button":e=this.renderFloatingButton();break;default:break}let t=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>
        ${t}
      </style>
      ${e}
    `}}});var Ht={};F(Ht,{initShareButton:()=>Xo});async function Xo(){customElements.get("pwa-share-button")||customElements.define("pwa-share-button",Ue),Ue.show()}var Wo,Ue,Dt=D(()=>{K();te();({__:Wo}=wp.i18n),Ue=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set,this.position=i.jsVars.settings.uiComponents.shareButton.position}async connectedCallback(){this.render(),this.handleShare()}static show(){let e=document.querySelector("pwa-share-button");return e||(e=document.createElement("pwa-share-button"),document.body.appendChild(e)),e}injectStyles(e){this.styles.add(e)}handleShare(){this.shadowRoot.querySelector(".share-button").addEventListener("click",async()=>{try{await navigator.share({title:document.title,url:document.querySelector("link[rel=canonical]")?document.querySelector("link[rel=canonical]").href:document.location.href})}catch(t){console.error(t)}})}render(){let e=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",t=q(e),n={"bottom-right":document.querySelector("pwa-navigation-tab-bar")?"bottom: 70px; right: 20px;":"bottom: 20px; right: 20px;","bottom-left":document.querySelector("pwa-navigation-tab-bar")?"bottom: 70px; left: 20px;":"bottom: 20px; left: 20px;","top-right":"top: 20px; right: 20px;","top-left":"top: 20px; left: 20px;"}[this.position];this.injectStyles(`
      .share-button {
        position: fixed;
        ${n}
        z-index: 999;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        width: 50px;
        height: 50px;
        background: ${e};
        border: none;
        border-radius: 50%;
        cursor: pointer;
        -webkit-box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      }

      .share-button:hover {
        opacity: 0.8;
      }
  
      .share-button_icon {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        width: 1.25rem;
        height: 1.25rem;
        color: ${t};
      }
    `);let l=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${l}</style>
      <div class="share-button" aria-label="${Wo("Share")}">
        <span class="share-button_icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v13"/><path d="m16 6-4-4-4 4"/><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/></svg>
        </span>
      </div>
    `}}});var Bt={};F(Bt,{initPullDownRefresh:()=>Go});async function Go(){document.body.style.overscrollBehaviorY="contain",customElements.get("pwa-pull-down-refresh")||customElements.define("pwa-pull-down-refresh",Ne),Ne.show()}var ze,Ne,Rt=D(()=>{K();te();({__:ze}=wp.i18n),Ne=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set,this.tracking=!1,this.refreshing=!1,this.startY=0,this.currentY=0,this.dragResistance=.4,this.threshold=70}connectedCallback(){this.render(),this.setupEventListeners()}static show(){let e=document.querySelector("pwa-pull-down-refresh");return e||(e=document.createElement("pwa-pull-down-refresh"),document.body.insertAdjacentElement("afterbegin",e)),e}injectStyles(e){this.styles.add(e)}setupEventListeners(){document.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!1}),document.addEventListener("touchmove",this.handleTouchMove.bind(this),{passive:!1}),document.addEventListener("touchend",this.handleTouchEnd.bind(this))}handleTouchStart(e){if(window.scrollY!==0)return;let t=e.touches[0].pageY;this._touchStartY=t;let n=this.shadowRoot.querySelector(".pull-down-refresh");n.style.transition="none";let l=n.offsetHeight;l>0?(n.style.height=`${l}px`,this.startY=t-l):this.startY=t,this.currentY=this.startY,this.tracking=!0,n.style.visibility="visible",n.offsetHeight}handleTouchMove(e){if(!this.tracking)return;this.currentY=e.touches[0].pageY;let t=(this.currentY-this.startY)*this.dragResistance;if(t>=0){this.currentY-this.startY>10&&e.preventDefault();let l=this.shadowRoot.querySelector(".pull-down-refresh"),c=this.shadowRoot.querySelector(".pull-down-refresh_text");l.style.transition="none",l.style.height=`${t}px`,t>this.threshold?c.textContent=ze("Release to refresh",i.jsVars.slug):c.textContent=ze("Pull down to refresh",i.jsVars.slug)}}async handleTouchEnd(){if(!this.tracking)return;this.tracking=!1;let e=(this.currentY-this.startY)*this.dragResistance,t=this.shadowRoot.querySelector(".pull-down-refresh"),n=this.shadowRoot.querySelector(".pull-down-refresh_text"),l=this.shadowRoot.querySelector(".pull-down-refresh_spinner");t.style.transition="height 0.3s cubic-bezier(0.4, 0, 0.2, 1)",e>this.threshold?(this.refreshing=!0,t.style.height="60px",n.textContent=ze("Refreshing...",i.jsVars.slug),l.style.display="block",location.reload()):this.resetPosition()}resetPosition(){let e=this.shadowRoot.querySelector(".pull-down-refresh");e.style.transition="height 0.3s cubic-bezier(0.4, 0, 0.2, 1)",e.style.height="0",e.addEventListener("transitionend",()=>{e.style.transition="",e.style.visibility="hidden",this.tracking=!1,this.refreshing=!1},{once:!0})}render(){let e=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",t=q(e);this.injectStyles(`
      :host {
        display: block;
        width: 100%;
        overflow: hidden;
      }

      .pull-down-refresh {
        height: 0;
        visibility: hidden;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        background-color: ${e};
        color: ${t};
        gap: 0.5rem;
        overflow: hidden;
        will-change: height;
      }

      .pull-down-refresh_content {
        padding: 1rem;
       display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        gap: 0.75rem;
        min-height: 60px;
      }

      .pull-down-refresh_spinner {
        display: none;
        width: 0.75rem;
        height: 0.75rem;
        border: 0.1875rem solid ${t};
        border-top-color: transparent;
        border-radius: 9999px;
        -webkit-animation: spin 1s linear infinite;
                animation: spin 1s linear infinite;
      }

      .pull-down-refresh_text {
        font-size: 0.875rem;
        line-height: 1.25rem;
      }

      @-webkit-keyframes spin {
        to {
          -webkit-transform: rotate(360deg);
                  transform: rotate(360deg);
        }
      }

      @keyframes spin {
        to {
          -webkit-transform: rotate(360deg);
                  transform: rotate(360deg);
        }
      }
    `);let n=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${n}</style>
      <div class="pull-down-refresh" role="alert">
        <div class="pull-down-refresh_content">
          <div class="pull-down-refresh_spinner" role="status" aria-label="loading"></div>
          <span class="pull-down-refresh_text">
            ${ze("Pull down to refresh",i.jsVars.slug)}
          </span>
        </div>
      </div>
    `}}});var Ut={};F(Ut,{initShakeRefresh:()=>Jo});async function Jo(){customElements.get("pwa-shake-refresh")||customElements.define("pwa-shake-refresh",Oe),Oe.show()}var Ko,Oe,zt=D(()=>{K();te();({__:Ko}=wp.i18n),Oe=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}connectedCallback(){this.render(),this.handleDetectShake()}static show(){let e=document.querySelector("pwa-shake-refresh");return e||(e=document.createElement("pwa-shake-refresh"),document.body.appendChild(e)),e}injectStyles(e){this.styles.add(e)}handleDetectShake(){let t=0,n=0,l=0,c=0,s=0,h=0;window.addEventListener("devicemotion",b=>{t=b.accelerationIncludingGravity.x,n=b.accelerationIncludingGravity.y,l=b.accelerationIncludingGravity.z},!1);let m=this;setInterval(()=>{Math.abs(t-c+n-s+l-h)>16&&(m.shadowRoot.querySelector(".shake-notification").classList.add("visible"),setTimeout(()=>location.reload(),500)),c=t,s=n,h=l},200)}render(){let e=i.jsVars.settings.webAppManifest?.appearance?.backgroundColor??"#ffffff",t=q(e);this.injectStyles(`
      .shake-notification {
        position: fixed;
        top: 0;
        left: 50%;
        -webkit-transform: translateX(-50%) translateY(-100%);
            -ms-transform: translateX(-50%) translateY(-100%);
                transform: translateX(-50%) translateY(-100%);
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        padding: 0.75rem 1rem;
        gap: 0.5rem;
        width: 30rem;
        max-width: 85%;
        background-color: ${e};
        color: ${t};
        border: 1px solid ${t}15;
        border-radius: 0.75rem;
        -webkit-box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
                box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        z-index: 9999999999999999;
        -webkit-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        -o-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        opacity: 0;
      }

      .shake-notification.visible {
        opacity: 1;
        -webkit-transform: translateX(-50%) translateY(1rem);
            -ms-transform: translateX(-50%) translateY(1rem);
                transform: translateX(-50%) translateY(1rem);
      }

      .shake-notification_spinner {
        width: 0.75rem;
        height: 0.75rem;
        border: 0.1875rem solid ${t};
        border-top-color: transparent;
        border-radius: 9999px;
        -webkit-animation: spin 1s linear infinite;
                animation: spin 1s linear infinite;
      }

      .shake-notification_text {
        font-size: 0.875rem;
        line-height: 1.25rem;
      }

      @-webkit-keyframes spin {
        to {
          -webkit-transform: rotate(360deg);
                  transform: rotate(360deg);
        }
      }

      @keyframes spin {
        to {
          -webkit-transform: rotate(360deg);
                  transform: rotate(360deg);
        }
      }
    `);let n=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${n}</style>
      <div class="shake-notification" role="alert">
        <div class="shake-notification_spinner" role="status" aria-label="loading"></div>
        <span class="shake-notification_text">
          ${Ko("Shake detected! Refreshing the page...",i.jsVars.slug)}
        </span>
      </div>
    `}}});var Ot={};F(Ot,{initInactiveBlur:()=>Qo});function Nt(o){var e=o?"blur(3px)":"initial";document.documentElement.style.transition="filter 0.15s ease",document.documentElement.style["-webkit-transition"]="-webkit-filter 0.15s ease",document.documentElement.style["-moz-transition"]="-moz-filter 0.15s ease",document.documentElement.style["-o-transition"]="-o-filter 0.15s ease",document.documentElement.style["-ms-transition"]="-ms-filter 0.15s ease",["filter","-webkit-filter","-moz-filter","-o-filter","-ms-filter"].forEach(function(t){document.documentElement.style[t]=e})}async function Qo(){["visibilitychange","pageshow","pagehide","focus","blur","resume","freeze"].forEach(function(o){window.addEventListener(o,function(e){document.hidden||!document.hasFocus()||e.type==="pagehide"||e.type==="blur"||e.type==="freeze"?Nt(!0):Nt(!1)})})}var Ft=D(()=>{});var Me={};F(Me,{initSwup:()=>at,initSwupFadeTheme:()=>nn,initSwupHeadPlugin:()=>lt,initSwupProgressBarPlugin:()=>tn,initSwupScriptsPlugin:()=>en,initSwupSlideTheme:()=>on});function at(){(function(o,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(o||self).Swup=e()})(this,function(){let o=new WeakMap;function e(a,r,d,p){if(!a&&!o.has(r))return!1;let g=o.get(r)??new WeakMap;o.set(r,g);let f=g.get(d)??new Set;g.set(d,f);let w=f.has(p);return a?f.add(p):f.delete(p),w&&a}let t=(a,r)=>String(a).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||r||"",n=function(a){let{hash:r}=a===void 0?{}:a;return window.location.pathname+window.location.search+(r?window.location.hash:"")},l=function(a,r){a===void 0&&(a=null),r===void 0&&(r={}),a=a||n({hash:!0});let d={...window.history.state||{},url:a,random:Math.random(),source:"swup",...r};window.history.replaceState(d,"",a)},c=(a,r,d,p)=>{let g=new AbortController;return function(f,w,S,B={}){let{signal:A,base:M=document}=B;if(A?.aborted)return;let{once:_,...U}=B,T=M instanceof Document?M.documentElement:M,Y=!!(typeof B=="object"?B.capture:B),I=Z=>{let J=function(W,N){let O=W.target;if(O instanceof Text&&(O=O.parentElement),O instanceof Element&&W.currentTarget instanceof Element){let ee=O.closest(N);if(ee&&W.currentTarget.contains(ee))return ee}}(Z,String(f));if(J){let W=Object.assign(Z,{delegateTarget:J});S.call(T,W),_&&(T.removeEventListener(w,I,U),e(!1,T,S,H))}},H=JSON.stringify({selector:f,type:w,capture:Y});e(!0,T,S,H)||T.addEventListener(w,I,U),A?.addEventListener("abort",()=>{e(!1,T,S,H)})}(a,r,d,p={...p,signal:g.signal}),{destroy:()=>g.abort()}};class s extends URL{constructor(r,d){d===void 0&&(d=document.baseURI),super(r.toString(),d),Object.setPrototypeOf(this,s.prototype)}get url(){return this.pathname+this.search}static fromElement(r){let d=r.getAttribute("href")||r.getAttribute("xlink:href")||"";return new s(d)}static fromUrl(r){return new s(r)}}let h=function(a,r){r===void 0&&(r={});try{let p=function(T){let{status:Y,url:I}=A;return Promise.resolve(A.text()).then(function(H){if(Y===500)throw d.hooks.call("fetch:error",g,{status:Y,response:A,url:I}),new m(`Server error: ${I}`,{status:Y,url:I});if(!H)throw new m(`Empty response: ${I}`,{status:Y,url:I});let{url:Z}=s.fromUrl(I),J={url:Z,html:H};return!g.cache.write||r.method&&r.method!=="GET"||a!==Z||d.cache.set(J.url,J),J})},d=this;a=s.fromUrl(a).url;let{visit:g=d.visit}=r,f={...d.options.requestHeaders,...r.headers},w=r.timeout??d.options.timeout,S=new AbortController,{signal:B}=S;r={...r,headers:f,signal:B};let A,M=!1,_=null;w&&w>0&&(_=setTimeout(()=>{M=!0,S.abort("timeout")},w));let U=function(T,Y){try{var I=Promise.resolve(d.hooks.call("fetch:request",g,{url:a,options:r},(H,Z)=>{let{url:J,options:W}=Z;return fetch(J,W)})).then(function(H){A=H,_&&clearTimeout(_)})}catch(H){return Y(H)}return I&&I.then?I.then(void 0,Y):I}(0,function(T){throw M?(d.hooks.call("fetch:timeout",g,{url:a}),new m(`Request timed out: ${a}`,{url:a,timedOut:M})):T?.name==="AbortError"||B.aborted?new m(`Request aborted: ${a}`,{url:a,aborted:!0}):T});return Promise.resolve(U&&U.then?U.then(p):p())}catch(d){return Promise.reject(d)}};class m extends Error{constructor(r,d){super(r),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=d.url,this.status=d.status,this.aborted=d.aborted||!1,this.timedOut=d.timedOut||!1}}class b{constructor(r){this.swup=void 0,this.pages=new Map,this.swup=r}get size(){return this.pages.size}get all(){let r=new Map;return this.pages.forEach((d,p)=>{r.set(p,{...d})}),r}has(r){return this.pages.has(this.resolve(r))}get(r){let d=this.pages.get(this.resolve(r));return d&&{...d}}set(r,d){r=this.resolve(r),d={...d,url:r},this.pages.set(r,d),this.swup.hooks.callSync("cache:set",void 0,{page:d})}update(r,d){r=this.resolve(r);let p={...this.get(r),...d,url:r};this.pages.set(r,p)}delete(r){this.pages.delete(this.resolve(r))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(r){this.pages.forEach((d,p)=>{r(p,d)&&this.delete(p)})}resolve(r){let{url:d}=s.fromUrl(r);return this.swup.resolveUrl(d)}}let x=function(a,r){return r===void 0&&(r=document),r.querySelector(a)},C=function(a,r){return r===void 0&&(r=document),Array.from(r.querySelectorAll(a))},k=()=>new Promise(a=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{a()})})});function $(a){return!!a&&(typeof a=="object"||typeof a=="function")&&typeof a.then=="function"}function P(a,r){let d=a?.closest(`[${r}]`);return d?.hasAttribute(r)?d?.getAttribute(r)||!0:void 0}class R{constructor(r){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=r}get selectors(){let{scope:r}=this.swup.visit.animation;return r==="containers"?this.swup.visit.containers:r==="html"?["html"]:Array.isArray(r)?r:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?C(this.selector):[]}add(){this.targets.forEach(r=>r.classList.add(...[].slice.call(arguments)))}remove(){this.targets.forEach(r=>r.classList.remove(...[].slice.call(arguments)))}clear(){this.targets.forEach(r=>{let d=r.className.split(" ").filter(p=>this.isSwupClass(p));r.classList.remove(...d)})}isSwupClass(r){return this.swupClasses.some(d=>r.startsWith(d))}}class X{constructor(r,d){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;let{to:p,from:g,hash:f,el:w,event:S}=d;this.id=Math.random(),this.state=1,this.from={url:g??r.location.url,hash:r.location.hash},this.to={url:p,hash:f},this.containers=r.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:r.options.native,scope:r.options.animationScope,selector:r.options.animationSelector},this.trigger={el:w,event:S},this.cache={read:r.options.cache,write:r.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(r){this.state<r&&(this.state=r)}abort(){this.state=8}get done(){return this.state>=7}}function G(a){return new X(this,a)}let z=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function V(a,r,d){if(!a.s){if(d instanceof E){if(!d.s)return void(d.o=V.bind(null,a,r));1&r&&(r=d.s),d=d.v}if(d&&d.then)return void d.then(V.bind(null,a,r),V.bind(null,a,2));a.s=r,a.v=d;let p=a.o;p&&p(a)}}let E=function(){function a(){}return a.prototype.then=function(r,d){let p=new a,g=this.s;if(g){let f=1&g?r:d;if(f){try{V(p,1,f(this.v))}catch(w){V(p,2,w)}return p}return this}return this.o=function(f){try{let w=f.v;1&f.s?V(p,1,r?r(w):w):d?V(p,1,d(w)):V(p,2,w)}catch(w){V(p,2,w)}},p},a}();function L(a){return a instanceof E&&1&a.s}class ie{constructor(r){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=r,this.init()}init(){this.hooks.forEach(r=>this.create(r))}create(r){this.registry.has(r)||this.registry.set(r,new Map)}exists(r){return this.registry.has(r)}get(r){let d=this.registry.get(r);if(d)return d;console.error(`Unknown hook '${r}'`)}clear(){this.registry.forEach(r=>r.clear())}on(r,d,p){p===void 0&&(p={});let g=this.get(r);if(!g)return console.warn(`Hook '${r}' not found.`),()=>{};let f=g.size+1,w={...p,id:f,hook:r,handler:d};return g.set(d,w),()=>this.off(r,d)}before(r,d,p){return p===void 0&&(p={}),this.on(r,d,{...p,before:!0})}replace(r,d,p){return p===void 0&&(p={}),this.on(r,d,{...p,replace:!0})}once(r,d,p){return p===void 0&&(p={}),this.on(r,d,{...p,once:!0})}off(r,d){let p=this.get(r);p&&d?p.delete(d)||console.warn(`Handler for hook '${r}' not found.`):p&&p.clear()}call(r,d,p,g){try{let f=this,[w,S,B]=f.parseCallArgs(r,d,p,g),{before:A,handler:M,after:_}=f.getHandlers(r,B);return Promise.resolve(f.run(A,w,S)).then(function(){return Promise.resolve(f.run(M,w,S,!0)).then(function(U){let[T]=U;return Promise.resolve(f.run(_,w,S)).then(function(){return f.dispatchDomEvent(r,w,S),T})})})}catch(f){return Promise.reject(f)}}callSync(r,d,p,g){let[f,w,S]=this.parseCallArgs(r,d,p,g),{before:B,handler:A,after:M}=this.getHandlers(r,S);this.runSync(B,f,w);let[_]=this.runSync(A,f,w,!0);return this.runSync(M,f,w),this.dispatchDomEvent(r,f,w),_}parseCallArgs(r,d,p,g){return d instanceof X||typeof d!="object"&&typeof p!="function"?[d,p,g]:[void 0,d,p]}run(r,d,p,g){g===void 0&&(g=!1);try{let f,w=this;d===void 0&&(d=w.swup.visit);let S=[],B=function(A,M,_){if(typeof A[z]=="function"){var U,T,Y,I=A[z]();if(function W(N){try{for(;!((U=I.next()).done||_&&_());)if((N=M(U.value))&&N.then){if(!L(N))return void N.then(W,Y||(Y=V.bind(null,T=new E,2)));N=N.v}T?V(T,1,N):T=N}catch(O){V(T||(T=new E),2,O)}}(),I.return){var H=function(W){try{U.done||I.return()}catch{}return W};if(T&&T.then)return T.then(H,function(W){throw H(W)});H()}return T}if(!("length"in A))throw new TypeError("Object is not iterable");for(var Z=[],J=0;J<A.length;J++)Z.push(A[J]);return function(W,N,O){var ee,de,he=-1;return function Se(ae){try{for(;++he<W.length&&(!O||!O());)if((ae=N(he))&&ae.then){if(!L(ae))return void ae.then(Se,de||(de=V.bind(null,ee=new E,2)));ae=ae.v}ee?V(ee,1,ae):ee=ae}catch(Te){V(ee||(ee=new E),2,Te)}}(),ee}(Z,function(W){return M(Z[W])},_)}(r,function(A){let{hook:M,handler:_,defaultHandler:U,once:T}=A;if(!d?.done)return T&&w.off(M,_),function(Y,I){try{var H=Promise.resolve(function(Z,J){return J===void 0&&(J=[]),new Promise((W,N)=>{let O=Z(...J);$(O)?O.then(W,N):W(O)})}(_,[d,p,U])).then(function(Z){S.push(Z)})}catch(Z){return I(Z)}return H&&H.then?H.then(void 0,I):H}(0,function(Y){if(g)throw Y;console.error(`Error in hook '${M}':`,Y)})},function(){return f});return Promise.resolve(B&&B.then?B.then(function(A){return f?A:S}):f?B:S)}catch(f){return Promise.reject(f)}}runSync(r,d,p,g){d===void 0&&(d=this.swup.visit),g===void 0&&(g=!1);let f=[];for(let{hook:w,handler:S,defaultHandler:B,once:A}of r)if(!d?.done){A&&this.off(w,S);try{let M=S(d,p,B);f.push(M),$(M)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${w}'.`)}catch(M){if(g)throw M;console.error(`Error in hook '${w}':`,M)}}return f}getHandlers(r,d){let p=this.get(r);if(!p)return{found:!1,before:[],handler:[],after:[],replaced:!1};let g=Array.from(p.values()),f=this.sortRegistrations,w=g.filter(_=>{let{before:U,replace:T}=_;return U&&!T}).sort(f),S=g.filter(_=>{let{replace:U}=_;return U}).filter(_=>!0).sort(f),B=g.filter(_=>{let{before:U,replace:T}=_;return!U&&!T}).sort(f),A=S.length>0,M=[];if(d&&(M=[{id:0,hook:r,handler:d}],A)){let _=S.length-1,{handler:U,once:T}=S[_],Y=I=>{let H=S[I-1];return H?(Z,J)=>H.handler(Z,J,Y(I-1)):d};M=[{id:0,hook:r,once:T,handler:U,defaultHandler:Y(_)}]}return{found:!0,before:w,handler:M,after:B,replaced:A}}sortRegistrations(r,d){return(r.priority??0)-(d.priority??0)||r.id-d.id||0}dispatchDomEvent(r,d,p){if(d?.done)return;let g={hook:r,args:p,visit:d||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:g,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${r}`,{detail:g,bubbles:!0}))}parseName(r){let[d,...p]=r.split(".");return[d,p.reduce((g,f)=>({...g,[f]:!0}),{})]}}let se=a=>{if(a&&a.charAt(0)==="#"&&(a=a.substring(1)),!a)return null;let r=decodeURIComponent(a),d=document.getElementById(a)||document.getElementById(r)||x(`a[name='${CSS.escape(a)}']`)||x(`a[name='${CSS.escape(r)}']`);return d||a!=="top"||(d=document.body),d},ne=function(a){let{selector:r,elements:d}=a;try{if(r===!1&&!d)return Promise.resolve();let p=[];if(d)p=Array.from(d);else if(r&&(p=C(r,document.body),!p.length))return console.warn(`[swup] No elements found matching animationSelector \`${r}\``),Promise.resolve();let g=p.map(f=>function(w){let{type:S,timeout:B,propCount:A}=function(M){let _=window.getComputedStyle(M),U=be(_,`${pe}Delay`),T=be(_,`${pe}Duration`),Y=Q(U,T),I=be(_,`${ce}Delay`),H=be(_,`${ce}Duration`),Z=Q(I,H),J=Math.max(Y,Z),W=J>0?Y>Z?pe:ce:null;return{type:W,timeout:J,propCount:W?W===pe?T.length:H.length:0}}(w);return!(!S||!B)&&new Promise(M=>{let _=`${S}end`,U=performance.now(),T=0,Y=()=>{w.removeEventListener(_,I),M()},I=H=>{H.target===w&&((performance.now()-U)/1e3<H.elapsedTime||++T>=A&&Y())};setTimeout(()=>{T<A&&Y()},B+1),w.addEventListener(_,I)})}(f));return g.filter(Boolean).length>0?Promise.resolve(Promise.all(g)).then(function(){}):(r&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${r}\``),Promise.resolve())}catch(p){return Promise.reject(p)}},pe="transition",ce="animation";function be(a,r){return(a[r]||"").split(", ")}function Q(a,r){for(;a.length<r.length;)a=a.concat(a);return Math.max(...r.map((d,p)=>oe(d)+oe(a[p])))}function oe(a){return 1e3*parseFloat(a)}let we=function(a,r){r===void 0&&(r={});try{let g=function(w){if(d)return w;p.navigating=!0,p.visit=a;let{el:S}=a.trigger;r.referrer=r.referrer||p.location.url,r.animate===!1&&(a.animation.animate=!1),a.animation.animate||p.classes.clear();let B=r.history||P(S,"data-swup-history");typeof B=="string"&&["push","replace"].includes(B)&&(a.history.action=B);let A=r.animation||P(S,"data-swup-animation");return typeof A=="string"&&(a.animation.name=A),a.meta=r.meta||{},typeof r.cache=="object"?(a.cache.read=r.cache.read??a.cache.read,a.cache.write=r.cache.write??a.cache.write):r.cache!==void 0&&(a.cache={read:!!r.cache,write:!!r.cache}),delete r.cache,function(M,_){try{var U=function(T,Y){try{var I=Promise.resolve(p.hooks.call("visit:start",a,void 0)).then(function(){function H(){if(!a.done)return Promise.resolve(p.hooks.call("visit:transition",a,void 0,function(){try{let O=function(de){return N?de:(a.advance(4),Promise.resolve(p.animatePageOut(a)).then(function(){function he(){return Promise.resolve(p.animatePageIn(a)).then(function(){})}let Se=function(){if(a.animation.native&&document.startViewTransition)return Promise.resolve(document.startViewTransition(function(){try{let ae=p.renderPage;return Promise.resolve(Z).then(function(Te){return Promise.resolve(ae.call(p,a,Te))})}catch(ae){return Promise.reject(ae)}}).finished).then(function(){});{let ae=p.renderPage;return Promise.resolve(Z).then(function(Te){return Promise.resolve(ae.call(p,a,Te)).then(function(){})})}}();return Se&&Se.then?Se.then(he):he()}))},N,ee=function(){if(!a.animation.animate)return Promise.resolve(p.hooks.call("animation:skip",void 0)).then(function(){let de=p.renderPage;return Promise.resolve(Z).then(function(he){return Promise.resolve(de.call(p,a,he)).then(function(){N=1})})})}();return Promise.resolve(ee&&ee.then?ee.then(O):O(ee))}catch(N){return Promise.reject(N)}})).then(function(){if(!a.done)return Promise.resolve(p.hooks.call("visit:end",a,void 0,()=>p.classes.clear())).then(function(){a.state=7,p.navigating=!1,p.onVisitEnd&&(p.onVisitEnd(),p.onVisitEnd=void 0)})})}a.state=3;let Z=p.hooks.call("page:load",a,{options:r},function(N,O){try{let ee=function(he){return O.page=he,O.cache=!!de,O.page},de;return N.cache.read&&(de=p.cache.get(N.to.url)),Promise.resolve(de?ee(de):Promise.resolve(p.fetchPage(N.to.url,O.options)).then(ee))}catch(ee){return Promise.reject(ee)}});Z.then(N=>{let{html:O}=N;a.advance(5),a.to.html=O,a.to.document=new DOMParser().parseFromString(O,"text/html")});let J=a.to.url+a.to.hash;a.history.popstate||(a.history.action==="replace"||a.to.url===p.location.url?l(J):(p.currentHistoryIndex++,function(N,O){O===void 0&&(O={});let ee={url:N=N||n({hash:!0}),random:Math.random(),source:"swup",...O};window.history.pushState(ee,"",N)}(J,{index:p.currentHistoryIndex}))),p.location=s.fromUrl(J),a.history.popstate&&p.classes.add("is-popstate"),a.animation.name&&p.classes.add(`to-${t(a.animation.name)}`);let W=function(){if(a.animation.wait)return Promise.resolve(Z).then(function(){})}();return W&&W.then?W.then(H):H()})}catch(H){return Y(H)}return I&&I.then?I.then(void 0,Y):I}(0,function(T){T&&!T?.aborted?(a.state=9,console.error(T),p.options.skipPopStateHandling=()=>(window.location.assign(a.to.url+a.to.hash),!0),window.history.back()):a.state=8})}catch(T){return _(!0,T)}return U&&U.then?U.then(_.bind(null,!1),_.bind(null,!0)):_(!1,U)}(0,function(M,_){if(delete a.to.document,M)throw _;return _})},d,p=this,f=function(){if(p.navigating)return function(){if(!(p.visit.state>=6))return Promise.resolve(p.hooks.call("visit:abort",p.visit,void 0)).then(function(){delete p.visit.to.document,p.visit.state=8});a.state=2,p.onVisitEnd=()=>p.performNavigation(a,r),d=1}()}();return Promise.resolve(f&&f.then?f.then(g):g(f))}catch(d){return Promise.reject(d)}};function ye(a,r,d){if(r===void 0&&(r={}),d===void 0&&(d={}),typeof a!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(a,{el:d.el,event:d.event}))return void window.location.assign(a);let{url:p,hash:g}=s.fromUrl(a),f=this.createVisit({...d,to:p,hash:g});this.performNavigation(f,r)}let Ge=function(a){try{let r=this;return Promise.resolve(r.hooks.call("animation:out:start",a,void 0,()=>{r.classes.add("is-changing","is-animating","is-leaving")})).then(function(){return Promise.resolve(r.hooks.call("animation:out:await",a,{skip:!1},(d,p)=>{let{skip:g}=p;if(!g)return r.awaitAnimations({selector:d.animation.selector})})).then(function(){return Promise.resolve(r.hooks.call("animation:out:end",a,void 0)).then(function(){})})})}catch(r){return Promise.reject(r)}},To=function(a){let r=a.to.document;if(!r)return!1;let d=r.querySelector("title")?.innerText||"";document.title=d;let p=C('[data-swup-persist]:not([data-swup-persist=""])'),g=a.containers.map(f=>{let w=document.querySelector(f),S=r.querySelector(f);return w&&S?(w.replaceWith(S.cloneNode(!0)),!0):(w||console.warn(`[swup] Container missing in current document: ${f}`),S||console.warn(`[swup] Container missing in incoming document: ${f}`),!1)}).filter(Boolean);return p.forEach(f=>{let w=f.getAttribute("data-swup-persist"),S=x(`[data-swup-persist="${w}"]`);S&&S!==f&&S.replaceWith(f)}),g.length===a.containers.length},qo=function(a){let r={behavior:"auto"},{target:d,reset:p}=a.scroll,g=d??a.to.hash,f=!1;return g&&(f=this.hooks.callSync("scroll:anchor",a,{hash:g,options:r},(w,S)=>{let{hash:B,options:A}=S,M=this.getAnchorElement(B);return M&&M.scrollIntoView(A),!!M})),p&&!f&&(f=this.hooks.callSync("scroll:top",a,{options:r},(w,S)=>{let{options:B}=S;return window.scrollTo({top:0,left:0,...B}),!0})),f},Co=function(a){try{let r=this;if(a.done)return Promise.resolve();let d=r.hooks.call("animation:in:await",a,{skip:!1},(p,g)=>{let{skip:f}=g;if(!f)return r.awaitAnimations({selector:p.animation.selector})});return Promise.resolve(k()).then(function(){return Promise.resolve(r.hooks.call("animation:in:start",a,void 0,()=>{r.classes.remove("is-animating")})).then(function(){return Promise.resolve(d).then(function(){return Promise.resolve(r.hooks.call("animation:in:end",a,void 0)).then(function(){})})})})}catch(r){return Promise.reject(r)}},jo=function(a,r){try{let d=this;if(a.done)return Promise.resolve();a.advance(6);let{url:p}=r;return d.isSameResolvedUrl(n(),p)||(l(p),d.location=s.fromUrl(p),a.to.url=d.location.url,a.to.hash=d.location.hash),Promise.resolve(d.hooks.call("content:replace",a,{page:r},(g,f)=>{if(d.classes.remove("is-leaving"),g.animation.animate&&d.classes.add("is-rendering"),!d.replaceContent(g))throw new Error("[swup] Container mismatch, aborting");g.animation.animate&&(d.classes.add("is-changing","is-animating","is-rendering"),g.animation.name&&d.classes.add(`to-${t(g.animation.name)}`))})).then(function(){return Promise.resolve(d.hooks.call("content:scroll",a,void 0,()=>d.scrollToContent(a))).then(function(){return Promise.resolve(d.hooks.call("page:view",a,{url:d.location.url,title:document.title})).then(function(){})})})}catch(d){return Promise.reject(d)}},Eo=function(a){var r;if(r=a,!!r?.isSwupPlugin){if(a.swup=this,!a._checkRequirements||a._checkRequirements())return a._beforeMount&&a._beforeMount(),a.mount(),this.plugins.push(a),this.plugins}else console.error("Not a swup plugin instance",a)};function _o(a){let r=this.findPlugin(a);if(r)return r.unmount(),r._afterUnmount&&r._afterUnmount(),this.plugins=this.plugins.filter(d=>d!==r),this.plugins;console.error("No such plugin",r)}function Lo(a){return this.plugins.find(r=>r===a||r.name===a||r.name===`Swup${String(a)}`)}function Po(a){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),a;let r=this.options.resolveUrl(a);return r&&typeof r=="string"?r.startsWith("//")||r.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),a):r:(console.warn("[swup] options.resolveUrl needs to return a url"),a)}function Mo(a,r){return this.resolveUrl(a)===this.resolveUrl(r)}let $o={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:function(a,r){let{el:d}=r===void 0?{}:r;return!!d?.closest("[data-no-swup]")},linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:a=>a,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:a=>a.state?.source!=="swup",timeout:0};return class{get currentPageUrl(){return this.location.url}constructor(a){a===void 0&&(a={}),this.version="4.8.1",this.options=void 0,this.defaults=$o,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=s.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=Eo,this.unuse=_o,this.findPlugin=Lo,this.log=()=>{},this.navigate=ye,this.performNavigation=we,this.createVisit=G,this.delegateEvent=c,this.fetchPage=h,this.awaitAnimations=ne,this.renderPage=jo,this.replaceContent=To,this.animatePageIn=Co,this.animatePageOut=Ge,this.scrollToContent=qo,this.getAnchorElement=se,this.getCurrentUrl=n,this.resolveUrl=Po,this.isSameResolvedUrl=Mo,this.options={...this.defaults,...a},this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new b(this),this.classes=new R(this),this.hooks=new ie(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=window.history.state?.index??1,this.enable()}enable(){try{let a=this,{linkSelector:r}=a.options;a.clickDelegate=a.delegateEvent(r,"click",a.handleLinkClick),window.addEventListener("popstate",a.handlePopState),a.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),a.options.native=a.options.native&&!!document.startViewTransition,a.options.plugins.forEach(d=>a.use(d));for(let[d,p]of Object.entries(a.options.hooks)){let[g,f]=a.hooks.parseName(d);a.hooks.on(g,p,f)}return window.history.state?.source!=="swup"&&l(null,{index:a.currentHistoryIndex}),Promise.resolve(k()).then(function(){return Promise.resolve(a.hooks.call("enable",void 0,void 0,()=>{let d=document.documentElement;d.classList.add("swup-enabled"),d.classList.toggle("swup-native",a.options.native)})).then(function(){})})}catch(a){return Promise.reject(a)}}destroy(){try{let a=this;return a.clickDelegate.destroy(),window.removeEventListener("popstate",a.handlePopState),a.cache.clear(),a.options.plugins.forEach(r=>a.unuse(r)),Promise.resolve(a.hooks.call("disable",void 0,void 0,()=>{let r=document.documentElement;r.classList.remove("swup-enabled"),r.classList.remove("swup-native")})).then(function(){a.hooks.clear()})}catch(a){return Promise.reject(a)}}shouldIgnoreVisit(a,r){let{el:d,event:p}=r===void 0?{}:r,{origin:g,url:f,hash:w}=s.fromUrl(a);return g!==window.location.origin||!(!d||!this.triggerWillOpenNewWindow(d))||!!this.options.ignoreVisit(f+w,{el:d,event:p})}handleLinkClick(a){let r=a.delegateTarget,{href:d,url:p,hash:g}=s.fromElement(r);if(this.shouldIgnoreVisit(d,{el:r,event:a}))return;if(this.navigating&&p===this.visit.to.url)return void a.preventDefault();let f=this.createVisit({to:p,hash:g,el:r,event:a});a.metaKey||a.ctrlKey||a.shiftKey||a.altKey?this.hooks.callSync("link:newtab",f,{href:d}):a.button===0&&this.hooks.callSync("link:click",f,{el:r,event:a},()=>{let w=f.from.url??"";a.preventDefault(),p&&p!==w?this.isSameResolvedUrl(p,w)||this.performNavigation(f):g?this.hooks.callSync("link:anchor",f,{hash:g},()=>{l(p+g),this.scrollToContent(f)}):this.hooks.callSync("link:self",f,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(f):(l(p),this.scrollToContent(f))})})}handlePopState(a){let r=a.state?.url??window.location.href;if(this.options.skipPopStateHandling(a)||this.isSameResolvedUrl(n(),this.location.url))return;let{url:d,hash:p}=s.fromUrl(r),g=this.createVisit({to:d,hash:p,event:a});g.history.popstate=!0;let f=a.state?.index??0;f&&f!==this.currentHistoryIndex&&(g.history.direction=f-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=f),g.animation.animate=!1,g.scroll.reset=!1,g.scroll.target=!1,this.options.animateHistoryBrowsing&&(g.animation.animate=!0,g.scroll.reset=!0),this.hooks.callSync("history:popstate",g,{event:a},()=>{this.performNavigation(g)})}triggerWillOpenNewWindow(a){return!!a.matches('[download], [target="_blank"]')}}})}function en(){(function(o,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(o||self).SwupScriptsPlugin=e()})(this,function(){function o(){return o=Object.assign?Object.assign.bind():function(n){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(n[s]=c[s])}return n},o.apply(this,arguments)}let e=n=>String(n).split(".").map(l=>String(parseInt(l||"0",10))).concat(["0","0"]).slice(0,3).join(".");class t{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(l=>l()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([l,c])=>{if(!function(s,h,m){let b=function(x,C){var k;if(x==="swup")return(k=C.version)!=null?k:"";{var $;let P=C.findPlugin(x);return($=P?.version)!=null?$:""}}(s,m);return!!b&&((x,C)=>C.every(k=>{let[,$,P]=k.match(/^([\D]+)?(.*)$/)||[];var R,X;return((G,z)=>{let V={"":E=>E===0,">":E=>E>0,">=":E=>E>=0,"<":E=>E<0,"<=":E=>E<=0};return(V[z]||V[""])(G)})((X=P,R=e(R=x),X=e(X),R.localeCompare(X,void 0,{numeric:!0})),$||">=")}))(b,h)}(l,c=Array.isArray(c)?c:[c],this.swup)){let s=`${l} ${c.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${s}`)}}),!0}on(l,c,s={}){var h;c=!(h=c).name.startsWith("bound ")||h.hasOwnProperty("prototype")?c.bind(this):c;let m=this.swup.hooks.on(l,c,s);return this.handlersToUnregister.push(m),m}once(l,c,s={}){return this.on(l,c,o({},s,{once:!0}))}before(l,c,s={}){return this.on(l,c,o({},s,{before:!0}))}replace(l,c,s={}){return this.on(l,c,o({},s,{replace:!0}))}off(l,c){return this.swup.hooks.off(l,c)}}return class extends t{constructor(n){n===void 0&&(n={}),super(),this.name="SwupScriptsPlugin",this.requires={swup:">=4"},this.defaults={head:!0,body:!0,optin:!1},this.options=void 0,this.options={...this.defaults,...n}}mount(){this.on("content:replace",this.runScripts)}runScripts(){let{head:n,body:l,optin:c}=this.options,s=this.getScope({head:n,body:l});if(!s)return;let h=Array.from(s.querySelectorAll(c?"script[data-swup-reload-script]":"script:not([data-swup-ignore-script])"));h.forEach(m=>this.runScript(m)),this.swup.log(`Executed ${h.length} scripts.`)}runScript(n){let l=document.createElement("script");for(let{name:c,value:s}of n.attributes)l.setAttribute(c,s);return l.textContent=n.textContent,n.replaceWith(l),l}getScope(n){let{head:l,body:c}=n;return l&&c?document:l?document.head:c?document.body:null}}})}function lt(){(function(o,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(o||self).SwupHeadPlugin=e()})(this,function(){function o(){return o=Object.assign?Object.assign.bind():function(h){for(var m=1;m<arguments.length;m++){var b=arguments[m];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(h[x]=b[x])}return h},o.apply(this,arguments)}let e=h=>String(h).split(".").map(m=>String(parseInt(m||"0",10))).concat(["0","0"]).slice(0,3).join(".");class t{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(m=>m()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([m,b])=>{if(!function(x,C,k){let $=function(P,R){var X;if(P==="swup")return(X=R.version)!=null?X:"";{var G;let z=R.findPlugin(P);return(G=z?.version)!=null?G:""}}(x,k);return!!$&&((P,R)=>R.every(X=>{let[,G,z]=X.match(/^([\D]+)?(.*)$/)||[];var V,E;return((L,ie)=>{let se={"":ne=>ne===0,">":ne=>ne>0,">=":ne=>ne>=0,"<":ne=>ne<0,"<=":ne=>ne<=0};return(se[ie]||se[""])(L)})((E=z,V=e(V=P),E=e(E),V.localeCompare(E,void 0,{numeric:!0})),G||">=")}))($,C)}(m,b=Array.isArray(b)?b:[b],this.swup)){let x=`${m} ${b.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${x}`)}}),!0}on(m,b,x={}){var C;b=!(C=b).name.startsWith("bound ")||C.hasOwnProperty("prototype")?b.bind(this):b;let k=this.swup.hooks.on(m,b,x);return this.handlersToUnregister.push(k),k}once(m,b,x={}){return this.on(m,b,o({},x,{once:!0}))}before(m,b,x={}){return this.on(m,b,o({},x,{before:!0}))}replace(m,b,x={}){return this.on(m,b,o({},x,{replace:!0}))}off(m,b){return this.swup.hooks.off(m,b)}}function n(h){return h.localName!=="title"&&!h.matches("[data-swup-theme]")}function l(h,m){return h.outerHTML===m.outerHTML}function c(h,m){m===void 0&&(m=[]);let b=Array.from(h.attributes);return m.length?b.filter(x=>{let{name:C}=x;return m.some(k=>k instanceof RegExp?k.test(C):C===k)}):b}function s(h){return h.matches("link[rel=stylesheet][href]")}return class extends t{constructor(h){h===void 0&&(h={}),super();let m=this;this.name="SwupHeadPlugin",this.requires={swup:">=4.6"},this.defaults={persistTags:!1,persistAssets:!1,awaitAssets:!1,attributes:["lang","dir"],timeout:3e3},this.options=void 0,this.updateHead=function(b,x){try{let{awaitAssets:C,attributes:k,timeout:$}=m.options,P=b.to.document,{removed:R,added:X}=function(z,V,E){let{shouldPersist:L=()=>!1}=E===void 0?{}:E,ie=Array.from(z.children),se=Array.from(V.children),ne=(pe=ie,se.reduce((Q,oe,we)=>(pe.some(ye=>l(oe,ye))||Q.push({el:oe,index:we}),Q),[]));var pe;let ce=function(Q,oe){return Q.reduce((we,ye)=>(oe.some(Ge=>l(ye,Ge))||we.push({el:ye}),we),[])}(ie,se);ce.reverse().filter(Q=>{let{el:oe}=Q;return n(oe)}).filter(Q=>{let{el:oe}=Q;return!L(oe)}).forEach(Q=>{let{el:oe}=Q;return z.removeChild(oe)});let be=ne.filter(Q=>{let{el:oe}=Q;return n(oe)}).map(Q=>{let oe=Q.el.cloneNode(!0);return z.insertBefore(oe,z.children[(Q.index||0)+1]||null),{...Q,el:oe}});return{removed:ce.map(Q=>{let{el:oe}=Q;return oe}),added:be.map(Q=>{let{el:oe}=Q;return oe})}}(document.head,P.head,{shouldPersist:z=>m.isPersistentTag(z)});m.swup.log(`Removed ${R.length} / added ${X.length} tags in head`),k?.length&&function(z,V,E){E===void 0&&(E=[]);let L=new Set;for(let{name:ie,value:se}of c(V,E))z.setAttribute(ie,se),L.add(ie);for(let{name:ie}of c(z,E))L.has(ie)||z.removeAttribute(ie)}(document.documentElement,P.documentElement,k);let G=function(){if(C){let V=((z=$)===void 0&&(z=0),X.filter(s).map(L=>function(ie,se){let ne;se===void 0&&(se=0);let pe=ce=>{ie.sheet?ce():ne=setTimeout(()=>pe(ce),10)};return new Promise(ce=>{pe(()=>ce(ie)),se>0&&setTimeout(()=>{ne&&clearTimeout(ne),ce(ie)},se)})}(L,z))),E=function(){if(V.length)return m.swup.log(`Waiting for ${V.length} assets to load`),Promise.resolve(Promise.all(V)).then(function(){})}();if(E&&E.then)return E.then(function(){})}var z}();return Promise.resolve(G&&G.then?G.then(function(){}):void 0)}catch(C){return Promise.reject(C)}},this.options={...this.defaults,...h},this.options.persistAssets&&!this.options.persistTags&&(this.options.persistTags="link[rel=stylesheet], script[src], style")}mount(){this.before("content:replace",this.updateHead)}isPersistentTag(h){let{persistTags:m}=this.options;return typeof m=="function"?m(h):typeof m=="string"&&m.length>0?h.matches(m):!!m}}})}function tn(){(function(o,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(o||self).SwupProgressPlugin=e()})(this,function(){function o(){return o=Object.assign?Object.assign.bind():function(l){for(var c=1;c<arguments.length;c++){var s=arguments[c];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(l[h]=s[h])}return l},o.apply(this,arguments)}let e=l=>String(l).split(".").map(c=>String(parseInt(c||"0",10))).concat(["0","0"]).slice(0,3).join(".");class t{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(c=>c()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([c,s])=>{if(!function(h,m,b){let x=function(C,k){var $;if(C==="swup")return($=k.version)!=null?$:"";{var P;let R=k.findPlugin(C);return(P=R?.version)!=null?P:""}}(h,b);return!!x&&((C,k)=>k.every($=>{let[,P,R]=$.match(/^([\D]+)?(.*)$/)||[];var X,G;return((z,V)=>{let E={"":L=>L===0,">":L=>L>0,">=":L=>L>=0,"<":L=>L<0,"<=":L=>L<=0};return(E[V]||E[""])(z)})((G=R,X=e(X=C),G=e(G),X.localeCompare(G,void 0,{numeric:!0})),P||">=")}))(x,m)}(c,s=Array.isArray(s)?s:[s],this.swup)){let h=`${c} ${s.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${h}`)}}),!0}on(c,s,h={}){var m;s=!(m=s).name.startsWith("bound ")||m.hasOwnProperty("prototype")?s.bind(this):s;let b=this.swup.hooks.on(c,s,h);return this.handlersToUnregister.push(b),b}once(c,s,h={}){return this.on(c,s,o({},h,{once:!0}))}before(c,s,h={}){return this.on(c,s,o({},h,{before:!0}))}replace(c,s,h={}){return this.on(c,s,o({},h,{replace:!0}))}off(c,s){return this.swup.hooks.off(c,s)}}class n{constructor(c){let{className:s,styleAttr:h,animationDuration:m,minValue:b,initialValue:x,trickleValue:C}=c===void 0?{}:c;this.value=0,this.visible=!1,this.hiding=!1,this.className="progress-bar",this.styleAttr="data-progressbar-styles data-swup-theme",this.animationDuration=300,this.minValue=.1,this.initialValue=.25,this.trickleValue=.03,this.trickleInterval=void 0,this.styleElement=void 0,this.progressElement=void 0,this.trickle=()=>{let k=Math.random()*this.trickleValue;this.setValue(this.value+k)},s!==void 0&&(this.className=String(s)),h!==void 0&&(this.styleAttr=String(h)),m!==void 0&&(this.animationDuration=Number(m)),b!==void 0&&(this.minValue=Number(b)),x!==void 0&&(this.initialValue=Number(x)),C!==void 0&&(this.trickleValue=Number(C)),this.styleElement=this.createStyleElement(),this.progressElement=this.createProgressElement()}get defaultStyles(){return`
		.${this.className} {
			position: fixed;
			display: block;
			top: 0;
			left: 0;
      width: 100%;
			height: 3px;
			background-color: black;
			z-index: 9999;
			transition:
				transform ${this.animationDuration}ms ease-out,
				opacity ${this.animationDuration/2}ms ${this.animationDuration/2}ms ease-in;
	  transform: translate3d(0, 0, 0) scaleX(var(--progress, 0));
      transform-origin: 0;
		}
	`}show(){this.visible||(this.visible=!0,this.installStyleElement(),this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(c){this.value=Math.min(1,Math.max(this.minValue,c)),this.refresh()}installStyleElement(){document.head.prepend(this.styleElement)}installProgressElement(){this.progressElement.style.setProperty("--progress",String(0)),this.progressElement.style.opacity="1",document.body.prepend(this.progressElement),this.progressElement.scrollTop=0,this.setValue(Math.random()*this.initialValue)}fadeProgressElement(c){this.progressElement.style.opacity="0",setTimeout(c,1.5*this.animationDuration)}uninstallProgressElement(){this.progressElement.remove()}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,this.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.setProperty("--progress",String(this.value))})}createStyleElement(){let c=document.createElement("style");return this.styleAttr.split(" ").forEach(s=>c.setAttribute(s,"")),c.textContent=this.defaultStyles,c}createProgressElement(){let c=document.createElement("div");return c.className=this.className,c.setAttribute("aria-hidden","true"),c}}return class extends t{constructor(l){l===void 0&&(l={}),super(),this.name="SwupProgressPlugin",this.defaults={className:"swup-progress-bar",delay:300,transition:300,minValue:.1,initialValue:.25,finishAnimation:!0},this.options=void 0,this.progressBar=void 0,this.showProgressBarTimeout=void 0,this.hideProgressBarTimeout=void 0,this.options={...this.defaults,...l};let{className:c,minValue:s,initialValue:h,transition:m}=this.options;this.progressBar=new n({className:c,minValue:s,initialValue:h,animationDuration:m})}mount(){this.on("visit:start",this.startShowingProgress),this.on("page:view",this.stopShowingProgress)}startShowingProgress(){this.progressBar.setValue(0),this.showProgressBarAfterDelay()}stopShowingProgress(){this.progressBar.setValue(1),this.options.finishAnimation?this.finishAnimationAndHideProgressBar():this.hideProgressBar()}showProgressBar(){this.cancelHideProgressBarTimeout(),this.progressBar.show()}showProgressBarAfterDelay(){this.cancelShowProgressBarTimeout(),this.cancelHideProgressBarTimeout(),this.showProgressBarTimeout=window.setTimeout(this.showProgressBar.bind(this),this.options.delay)}hideProgressBar(){this.cancelShowProgressBarTimeout(),this.progressBar.hide()}finishAnimationAndHideProgressBar(){this.cancelShowProgressBarTimeout(),this.hideProgressBarTimeout=window.setTimeout(this.hideProgressBar.bind(this),this.options.transition)}cancelShowProgressBarTimeout(){window.clearTimeout(this.showProgressBarTimeout),delete this.showProgressBarTimeout}cancelHideProgressBarTimeout(){window.clearTimeout(this.hideProgressBarTimeout),delete this.hideProgressBarTimeout}}})}function on(){(function(o,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(o||self).SwupSlideTheme=e()})(this,function(){function o(){return o=Object.assign?Object.assign.bind():function(l){for(var c=1;c<arguments.length;c++){var s=arguments[c];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(l[h]=s[h])}return l},o.apply(this,arguments)}let e=l=>String(l).split(".").map(c=>String(parseInt(c||"0",10))).concat(["0","0"]).slice(0,3).join(".");class t{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(c=>c()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([c,s])=>{if(!function(h,m,b){let x=function(C,k){var $;if(C==="swup")return($=k.version)!=null?$:"";{var P;let R=k.findPlugin(C);return(P=R?.version)!=null?P:""}}(h,b);return!!x&&((C,k)=>k.every($=>{let[,P,R]=$.match(/^([\D]+)?(.*)$/)||[];var X,G;return((z,V)=>{let E={"":L=>L===0,">":L=>L>0,">=":L=>L>=0,"<":L=>L<0,"<=":L=>L<=0};return(E[V]||E[""])(z)})((G=R,X=e(X=C),G=e(G),X.localeCompare(G,void 0,{numeric:!0})),P||">=")}))(x,m)}(c,s=Array.isArray(s)?s:[s],this.swup)){let h=`${c} ${s.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${h}`)}}),!0}on(c,s,h={}){var m;s=!(m=s).name.startsWith("bound ")||m.hasOwnProperty("prototype")?s.bind(this):s;let b=this.swup.hooks.on(c,s,h);return this.handlersToUnregister.push(b),b}once(c,s,h={}){return this.on(c,s,o({},h,{once:!0}))}before(c,s,h={}){return this.on(c,s,o({},h,{before:!0}))}replace(c,s,h={}){return this.on(c,s,o({},h,{replace:!0}))}off(c,s){return this.swup.hooks.off(c,s)}}class n extends t{constructor(...c){super(...c),this._originalAnimationSelectorOption="",this._addedStyleElements=[],this._addedHTMLContent=[],this._classNameAddedToElements=[],this._addClassNameToElement=()=>{this._classNameAddedToElements.forEach(s=>{Array.from(document.querySelectorAll(s.selector)).forEach(h=>{h.classList.add(`swup-transition-${s.name}`)})})}}_beforeMount(){this._originalAnimationSelectorOption=String(this.swup.options.animationSelector),this.swup.options.animationSelector='[class*="swup-transition-"]',this.swup.hooks.on("content:replace",this._addClassNameToElement)}_afterUnmount(){this.swup.options.animationSelector=this._originalAnimationSelectorOption,this._addedStyleElements.forEach(c=>{c.outerHTML=""}),this._addedStyleElements=[],this._addedHTMLContent.forEach(c=>{c.outerHTML=""}),this._addedHTMLContent=[],this._classNameAddedToElements.forEach(c=>{Array.from(document.querySelectorAll(c.selector)).forEach(s=>{s.className.split(" ").forEach(h=>{new RegExp("^swup-transition-").test(h)&&s.classList.remove(h)})})}),this.swup.hooks.off("content:replace",this._addClassNameToElement)}applyStyles(c){let s=document.createElement("style");s.setAttribute("data-swup-theme",""),s.appendChild(document.createTextNode(c)),document.head.prepend(s),this._addedStyleElements.push(s)}applyHTML(c){let s=document.createElement("div");s.innerHTML=c,document.body.appendChild(s),this._addedHTMLContent.push(s)}addClassName(c,s){this._classNameAddedToElements.push({selector:c,name:s}),this._addClassNameToElement()}}return class extends n{constructor(l){l===void 0&&(l={}),super(),this.name="SwupSlideTheme",this.defaults={mainElement:"#swup",reversed:!1},this.options={...this.defaults,...l}}mount(){this.applyStyles("html{--swup-slide-theme-direction:1;--swup-slide-theme-translate:60px;--swup-slide-theme-duration-fade:.3s;--swup-slide-theme-duration-slide:.4s;--swup-slide-theme-translate-forward:calc(var(--swup-slide-theme-direction)*var(--swup-slide-theme-translate));--swup-slide-theme-translate-backward:calc(var(--swup-slide-theme-translate-forward)*-1)}html.swup-theme-reverse{--swup-slide-theme-direction:-1}html.is-changing .swup-transition-main{opacity:1;transform:translateZ(0);transition:opacity var(--swup-slide-theme-duration-fade),transform var(--swup-slide-theme-duration-slide)}html.is-animating .swup-transition-main{opacity:0;transform:translate3d(0,var(--swup-slide-theme-translate-backward),0)}html.is-animating.is-leaving .swup-transition-main{transform:translate3d(0,var(--swup-slide-theme-translate-forward),0)}"),this.addClassName(this.options.mainElement,"main"),this.options.reversed&&document.documentElement.classList.add("swup-theme-reverse")}unmount(){document.documentElement.classList.remove("swup-theme-reverse")}}})}function nn(){(function(o,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(o||self).SwupFadeTheme=e()})(this,function(){function o(){return o=Object.assign?Object.assign.bind():function(l){for(var c=1;c<arguments.length;c++){var s=arguments[c];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(l[h]=s[h])}return l},o.apply(this,arguments)}let e=l=>String(l).split(".").map(c=>String(parseInt(c||"0",10))).concat(["0","0"]).slice(0,3).join(".");class t{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(c=>c()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([c,s])=>{if(!function(h,m,b){let x=function(C,k){var $;if(C==="swup")return($=k.version)!=null?$:"";{var P;let R=k.findPlugin(C);return(P=R?.version)!=null?P:""}}(h,b);return!!x&&((C,k)=>k.every($=>{let[,P,R]=$.match(/^([\D]+)?(.*)$/)||[];var X,G;return((z,V)=>{let E={"":L=>L===0,">":L=>L>0,">=":L=>L>=0,"<":L=>L<0,"<=":L=>L<=0};return(E[V]||E[""])(z)})((G=R,X=e(X=C),G=e(G),X.localeCompare(G,void 0,{numeric:!0})),P||">=")}))(x,m)}(c,s=Array.isArray(s)?s:[s],this.swup)){let h=`${c} ${s.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${h}`)}}),!0}on(c,s,h={}){var m;s=!(m=s).name.startsWith("bound ")||m.hasOwnProperty("prototype")?s.bind(this):s;let b=this.swup.hooks.on(c,s,h);return this.handlersToUnregister.push(b),b}once(c,s,h={}){return this.on(c,s,o({},h,{once:!0}))}before(c,s,h={}){return this.on(c,s,o({},h,{before:!0}))}replace(c,s,h={}){return this.on(c,s,o({},h,{replace:!0}))}off(c,s){return this.swup.hooks.off(c,s)}}class n extends t{constructor(...c){super(...c),this._originalAnimationSelectorOption="",this._addedStyleElements=[],this._addedHTMLContent=[],this._classNameAddedToElements=[],this._addClassNameToElement=()=>{this._classNameAddedToElements.forEach(s=>{Array.from(document.querySelectorAll(s.selector)).forEach(h=>{h.classList.add(`swup-transition-${s.name}`)})})}}_beforeMount(){this._originalAnimationSelectorOption=String(this.swup.options.animationSelector),this.swup.options.animationSelector='[class*="swup-transition-"]',this.swup.hooks.on("content:replace",this._addClassNameToElement)}_afterUnmount(){this.swup.options.animationSelector=this._originalAnimationSelectorOption,this._addedStyleElements.forEach(c=>{c.outerHTML=""}),this._addedStyleElements=[],this._addedHTMLContent.forEach(c=>{c.outerHTML=""}),this._addedHTMLContent=[],this._classNameAddedToElements.forEach(c=>{Array.from(document.querySelectorAll(c.selector)).forEach(s=>{s.className.split(" ").forEach(h=>{new RegExp("^swup-transition-").test(h)&&s.classList.remove(h)})})}),this.swup.hooks.off("content:replace",this._addClassNameToElement)}applyStyles(c){let s=document.createElement("style");s.setAttribute("data-swup-theme",""),s.appendChild(document.createTextNode(c)),document.head.prepend(s),this._addedStyleElements.push(s)}applyHTML(c){let s=document.createElement("div");s.innerHTML=c,document.body.appendChild(s),this._addedHTMLContent.push(s)}addClassName(c,s){this._classNameAddedToElements.push({selector:c,name:s}),this._addClassNameToElement()}}return class extends n{constructor(l){l===void 0&&(l={}),super(),this.name="SwupFadeTheme",this.defaults={mainElement:"#swup"},this.options={...this.defaults,...l}}mount(){this.applyStyles("html{--swup-fade-theme-duration:.4s}html.is-changing .swup-transition-main{opacity:1;transition:opacity var(--swup-fade-theme-duration)}html.is-animating .swup-transition-main{opacity:0}"),this.addClassName(this.options.mainElement,"main")}}})}var ke=D(()=>{});var Yt={};F(Yt,{initSmoothPageTransitions:()=>rn});async function rn(){at(),lt();let o,e=[new SwupHeadPlugin];switch(i.jsVars.pageData.builder){case"elementor":o=".elementor";break;case"divi":o="#page-container";break;case"oxygen":o=".ct-inner-content";break;case"beaver":o=".fl-builder-content";break;case"bricks":o="#brx-content";break;case"block-editor":o=".wp-site-blocks";break;default:o="#swup";break}if(i.jsVars.settings.appCapabilities.smoothPageTransitions.progressBar==="on"){let{initSwupProgressBarPlugin:t}=await Promise.resolve().then(()=>(ke(),Me));t(),e.push(new SwupProgressPlugin),document.head.insertAdjacentHTML("beforeend","<style>.swup-progress-bar { background-color: "+i.jsVars.settings.webAppManifest.appearance.themeColor+" !important; }</style>")}if(i.jsVars.settings.appCapabilities.smoothPageTransitions.transition==="slide"){let{initSwupSlideTheme:t}=await Promise.resolve().then(()=>(ke(),Me));t(),e.push(new SwupSlideTheme({mainElement:o}))}else{let{initSwupFadeTheme:t}=await Promise.resolve().then(()=>(ke(),Me));t(),e.push(new SwupFadeTheme({mainElement:o}))}if(i.jsVars.settings.appCapabilities.smoothPageTransitions.compatibilityMode==="on"){let{initSwupScriptsPlugin:t}=await Promise.resolve().then(()=>(ke(),Me));t(),e.push(new SwupScriptsPlugin),o="#swup"}new Swup({containers:[o],plugins:e})}var Zt=D(()=>{K();ke()});var Wt={};F(Wt,{initVibrations:()=>sn});async function sn(){document.addEventListener("touchstart",function(o){if(!(o.target.tagName==="INPUT"||o.target.tagName==="TEXTAREA"||o.target.isContentEditable))try{navigator.vibrate(50)}catch(e){console.error("Error triggering vibration:",e)}},{passive:!0})}var Xt=D(()=>{});var Gt={};F(Gt,{initIdleDetection:()=>ln});async function ln(){customElements.get("pwa-idle-detection")||customElements.define("pwa-idle-detection",$e);let o=async()=>{try{if(await IdleDetector.requestPermission()==="granted")try{let t=new AbortController,n=new IdleDetector;n.addEventListener("change",()=>{n.userState==="idle"?$e.show():$e.hide()}),await n.start({threshold:i.jsVars.settings.appCapabilities.idleDetection.threshold*6e4,signal:t.signal})}catch(t){console.error("Error initializing idle detector:",t)}else console.log("Idle detection permission not granted.")}catch(e){console.error("Error requesting idle detection permission:",e)}document.removeEventListener("click",o)};document.addEventListener("click",o)}var an,$e,Kt=D(()=>{K();te();({__:an}=wp.i18n),$e=class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}connectedCallback(){this.render(),this.handlePageReload()}static show(){let e=document.querySelector("pwa-idle-detection");return e||(e=document.createElement("pwa-idle-detection"),document.body.appendChild(e)),requestAnimationFrame(()=>{e.shadowRoot.querySelector(".idle-notification").classList.add("visible")}),e}static hide(){let e=document.querySelector("pwa-idle-detection");if(e){let t=e.shadowRoot.querySelector(".idle-notification");t.classList.remove("visible"),t.addEventListener("transitionend",()=>{e.remove()},{once:!0})}}injectStyles(e){this.styles.add(e)}handlePageReload(){this.shadowRoot.querySelector(".idle-notification").querySelector(".idle-notification-button_reload").addEventListener("click",()=>{o.hide(),location.reload()})}render(){let e=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",t=q(e),n=q(t);this.injectStyles(`
      .idle-notification {
        position: fixed;
        top: 0;
        left: 50%;
        -webkit-transform: translateX(-50%) translateY(-100%);
            -ms-transform: translateX(-50%) translateY(-100%);
                transform: translateX(-50%) translateY(-100%);
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        justify-content: space-between;
        padding: 0.75rem 1rem;
        gap: 1rem;
        width: 30rem;
        max-width: 85%;
        background-color: ${t};
        color: ${n};
        border: 1px solid ${n}15;
        border-radius: 0.75rem;
        -webkit-box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
                box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        z-index: 9999999999999999;
        -webkit-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        -o-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        opacity: 0;
      }

      .idle-notification.visible {
        opacity: 1;
        -webkit-transform: translateX(-50%) translateY(1rem);
            -ms-transform: translateX(-50%) translateY(1rem);
                transform: translateX(-50%) translateY(1rem);
      }

      .idle-notification_icon {
        display: inline-block;
        flex-shrink: 0;
        width: 1.5rem;
        height: 1.5rem;
        color: ${n};
      }

      .idle-notification_texts {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        gap: 0.325rem;
      }

      .idle-notification_text {
        font-size: 0.875rem;
        line-height: 1.25rem;
      }

      .idle-notification-button_reload {
        display: inline-block;
        background-color: ${n};
        color: ${t};
        vertical-align: middle;
        text-decoration: none;
        font-size: 0.75rem;
        line-height: 1rem;
        font-weight: 500;
        padding: 0.375rem 0.875rem;
        border: none;
        outline: none;
        border-radius: 9999px;
        cursor: pointer;
      }

      .idle-notification-button_reload:hover {
        opacity: 0.8;
      }
    `);let l=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${l}</style>
      <div class="idle-notification" role="alert" tabindex="-1">
        <div class="idle-notification_texts">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor" class="idle-notification_icon"><path d="m520-496 120 120q11 11 11 28t-11 28q-11 11-28 11t-28-11L452-452q-6-6-9-13.5t-3-15.5v-159q0-17 11.5-28.5T480-680q17 0 28.5 11.5T520-640v144Zm90-264q-21 0-35.5-14.5T560-810q0-21 14.5-35.5T610-860q21 0 35.5 14.5T660-810q0 21-14.5 35.5T610-760Zm0 660q-21 0-35.5-14.5T560-150q0-21 14.5-35.5T610-200q21 0 35.5 14.5T660-150q0 21-14.5 35.5T610-100Zm160-520q-21 0-35.5-14.5T720-670q0-21 14.5-35.5T770-720q21 0 35.5 14.5T820-670q0 21-14.5 35.5T770-620Zm0 380q-21 0-35.5-14.5T720-290q0-21 14.5-35.5T770-340q21 0 35.5 14.5T820-290q0 21-14.5 35.5T770-240Zm60-190q-21 0-35.5-14.5T780-480q0-21 14.5-35.5T830-530q21 0 35.5 14.5T880-480q0 21-14.5 35.5T830-430ZM80-480q0-157 104.5-270T441-878q16-2 27.5 9.5T480-840q0 16-10.5 28T443-798q-121 14-202 104t-81 214q0 125 81 214.5T443-162q16 2 26.5 14t10.5 28q0 17-11.5 28.5T441-82Q288-97 184-210T80-480Z"/></svg>
          <span class="idle-notification_text">
            ${an("You've been idle for a while.",i.jsVars.slug)}
          </span>
        </div>
        <button type="button" class="idle-notification-button_reload">Reload Page</button>
      </div>
    `}}});var Jt={};F(Jt,{initScreenWakeLock:()=>cn});async function cn(){let o=null,e=async()=>{try{o=await navigator.wakeLock.request("screen"),o.addEventListener("release",()=>{o=null})}catch(n){console.error("Error requesting screen wake lock:",n)}},t=async()=>{document.visibilityState==="visible"&&await e()};await e(),document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}var Qt=D(()=>{});var eo={};F(eo,{initPushNotificationsPrompt:()=>dn});async function dn(){customElements.get("pwa-push-notifications-prompt")||customElements.define("pwa-push-notifications-prompt",Ye),Ye.show()}var Fe,Ye,to=D(()=>{K();Ve();te();({__:Fe}=wp.i18n),Ye=class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}async connectedCallback(){this.render(),this.unsubscribe=le.subscribe(this.handleStateChange.bind(this)),this.handleSubscription(),this.handleDismiss()}handleStateChange(e){["subscribed","blocked","loading"].includes(e)?this.hide():e==="unsubscribed"&&o.show()}injectStyles(e){this.styles.add(e)}static show(){let e=document.querySelector("pwa-push-notifications-prompt");return e||(e=document.createElement("pwa-push-notifications-prompt"),document.body.appendChild(e)),requestAnimationFrame(()=>{let t=e.shadowRoot.querySelector(".push-notifications-prompt");setTimeout(()=>{t.classList.add("visible")},300)}),e}hide(){let e=this.shadowRoot.querySelector(".push-notifications-prompt");e.classList.remove("visible"),e.addEventListener("transitionend",()=>{this.remove()},{once:!0})}handleSubscription(){this.shadowRoot.querySelector(".push-notifications-prompt-button_allow").addEventListener("click",async()=>{try{await le.addSubscription()}catch(t){console.error(t)}})}handleDismiss(){this.shadowRoot.querySelector(".push-notifications-prompt-button_dismiss").addEventListener("click",async()=>{this.hide()})}render(){let e=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",t=q(e),n=q(t),l=i.jsVars.settings.pushNotifications?.prompt?.message??Fe("We would like to show you notifications for the latest news and updates.",i.jsVars.slug),c=i.jsVars.settings.webAppManifest.appIdentity.appName??"",s=i.jsVars.iconUrl?`<img class="push-notifications-prompt-media_icon" src="${i.jsVars.iconUrl}" alt="${c}" onerror="this.style.display='none'"/>`:"";this.injectStyles(`
      .push-notifications-prompt {
        position: fixed;
        top: 0;
        left: 50%;
        -webkit-transform: translateX(-50%) translateY(-100%);
            -ms-transform: translateX(-50%) translateY(-100%);
                transform: translateX(-50%) translateY(-100%);
        padding: 1rem;
        width: 25rem;
        max-width: 85%;
        background-color: ${t};
        color: ${n};
        border: 1px solid ${n}15;
        border-radius: 0.75rem;
        -webkit-box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
                box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        z-index: 9999999999999999;
        -webkit-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        -o-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        opacity: 0;
        visibility: hidden;
      }

      .push-notifications-prompt.visible {
        opacity: 1;
        visibility: visible;
        -webkit-transform: translateX(-50%) translateY(1rem);
            -ms-transform: translateX(-50%) translateY(1rem);
                transform: translateX(-50%) translateY(1rem);
      }

      .push-notifications-prompt-media {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        flex: 1;
      }

      .push-notifications-prompt-media_icon {
        border-radius: 9999px;
        border: 1px solid #e5e7eb;
        flex-shrink: 0;
        height: 50px;
        width: 50px;
        display: inline-block;
      }

      .push-notifications-prompt-media_texts {
        flex: 1;
        min-width: 0;
      }

      .push-notifications-prompt-media_title {
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 500;
        color: ${n};
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
      }

      .push-notifications-prompt-media_message {
        font-size: 0.75rem;
        line-height: 1rem;
        font-weight: 400;
        color: ${n}cc;
        margin-top: 0.12rem;
        display: -webkit-box;
        overflow: hidden;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
      }

      .push-notifications-prompt-buttons {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 0.75rem;
        margin-top: 1.25rem;
      }

      .push-notifications-prompt-button_dismiss {
        font-size: 0.875rem;
        line-height: 1.25rem;
        color: ${n}59;
        background: none;
        font-weight: 600;
        border: none;
        outline: none;
        padding: 0;
        margin: 0;
        cursor: pointer;
      }

      .push-notifications-prompt-button_allow {
        display: block;
        background-color: ${e};
        color: ${t};
        vertical-align: middle;
        text-decoration: none;
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 600;
        padding: 0.375rem 0.875rem;
        border: none;
        outline: none;
        border-radius: 9999px;
        cursor: pointer;
      }

      .push-notifications-prompt-button_allow:hover {
        opacity: 0.8;
      }
    `);let h=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${h}</style>
      <div class="push-notifications-prompt">
        <div class="push-notifications-prompt-media">
          ${s}
          <div class="push-notifications-prompt-media_texts">
            <div class="push-notifications-prompt-media_title">${Fe("Push Notifications",i.jsVars.slug)}</div>
            <div class="push-notifications-prompt-media_message">${l}</div>
          </div>
        </div>
        <div class="push-notifications-prompt-buttons">
          <button type="button" class="push-notifications-prompt-button_dismiss">
            ${Fe("Dismiss",i.jsVars.slug)}
          </button>
          <button type="button" class="push-notifications-prompt-button_allow">
            ${Fe("Allow Notifications",i.jsVars.slug)}
          </button>
        </div>
      </div>
    `}}});var oo={};F(oo,{initPushNotificationsButton:()=>hn});async function hn(){customElements.get("pwa-push-notifications-button")||customElements.define("pwa-push-notifications-button",Ze),Ze.show()}var pn,Ze,no=D(()=>{K();Ve();te();({__:pn}=wp.i18n),Ze=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set,this.position=i.jsVars.settings.pushNotifications.button.position,this.behavior=i.jsVars.settings.pushNotifications.button.behavior,this.icons={subscribe:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.268 21a2 2 0 0 0 3.464 0"/><path d="M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"/></svg>',unsubscribe:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.268 21a2 2 0 0 0 3.464 0"/><path d="M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742"/><path d="m2 2 20 20"/><path d="M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05"/></svg>'}}async connectedCallback(){this.render(),this.unsubscribe=le.subscribe(this.handleStateChange.bind(this)),this.handleSubscription()}static show(){let e=document.querySelector("pwa-push-notifications-button");return e||(e=document.createElement("pwa-push-notifications-button"),document.body.appendChild(e)),e}injectStyles(e){this.styles.add(e)}handleStateChange(e){let t=this.shadowRoot.querySelector(".push-notifications-button_icon"),n=this.shadowRoot.querySelector(".push-notifications-button_spinner"),l=this.shadowRoot.querySelector(".push-notifications-button");switch(e){case"loading":t.style.display="none",n.style.display="block",l.classList.add("-disabled");break;case"subscribed":t.style.display="flex",n.style.display="none",l.classList.remove("-disabled"),t.innerHTML=this.icons.unsubscribe,this.behavior==="hidden"&&this.remove();break;case"unsubscribed":t.style.display="flex",n.style.display="none",l.classList.remove("-disabled"),t.innerHTML=this.icons.subscribe;break;case"blocked":t.style.display="flex",n.style.display="none",t.innerHTML=this.icons.subscribe,Notification.permission==="denied"&&this.remove();break}}handleSubscription(){this.shadowRoot.querySelector(".push-notifications-button").addEventListener("click",async()=>{try{le.currentState==="subscribed"?await le.removeSubscription():le.currentState==="unsubscribed"&&await le.addSubscription()}catch(t){console.error(t)}})}render(){let e=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",t=q(e),n={"bottom-right":document.querySelector("pwa-navigation-tab-bar")?"bottom: 70px; right: 20px;":"bottom: 20px; right: 20px;","bottom-left":document.querySelector("pwa-navigation-tab-bar")?"bottom: 70px; left: 20px;":"bottom: 20px; left: 20px;","top-right":"top: 20px; right: 20px;","top-left":"top: 20px; left: 20px;"}[this.position];this.injectStyles(`
      .push-notifications-button {
        position: fixed;
        ${n}
        z-index: 999;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        width: 50px;
        height: 50px;
        background: ${e};
        border: none;
        border-radius: 50%;
        cursor: pointer;
        -webkit-box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      }

      .push-notifications-button:hover {
        opacity: 0.8;
      }

      .push-notifications-button.-disabled {
        pointer-events: none !important;
      }
  
      .push-notifications-button_icon {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        -webkit-box-pack: center;
            -ms-flex-pack: center;
                justify-content: center;
        width: 1.25rem;
        height: 1.25rem;
        color: ${t};
      }

      .push-notifications-button_spinner {
        display: none;
        width: 1rem;
        height: 1rem;
        border: 2px solid ${t}40;
        border-top-color: ${t};
        border-radius: 50%;
        -webkit-animation: spinner 0.8s linear infinite;
                animation: spinner 0.8s linear infinite;
      }

      @-webkit-keyframes spinner {
        to {
          -webkit-transform: rotate(360deg);
                  transform: rotate(360deg);
        }
      }

      @keyframes spinner {
        to {
          -webkit-transform: rotate(360deg);
                  transform: rotate(360deg);
        }
      }
    `);let l=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${l}</style>
      <div class="push-notifications-button" aria-label="${pn("Enable / Disable Push Notifications")}">
        <span class="push-notifications-button_spinner"></span>
        <span class="push-notifications-button_icon"></span>
      </div>
    `}}});async function un(){let o=[];return o.push(navigator.userAgent||""),o.push(navigator.language||""),o.push(navigator.languages?navigator.languages.join(","):""),o.push(screen.width||""),o.push(screen.height||""),o.push(screen.colorDepth||""),o.push(new Date().getTimezoneOffset()),o.push(navigator.hardwareConcurrency||""),o.push(navigator.maxTouchPoints||""),o.push(navigator.platform||""),o.push(navigator.doNotTrack||""),o.push(navigator.deviceMemory||""),o.push(gn()),o.push(bn()),o.join("###")}function mn(o){return new TextEncoder().encode(o)}async function fn(o){if(window.crypto&&window.crypto.subtle)try{let e=mn(o),t=await window.crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(l=>l.toString(16).padStart(2,"0")).join("")}catch{return io(o)}else return io(o)}function io(o){let e=0;for(let t=0;t<o.length;t++)e=Math.imul(31,e)+o.charCodeAt(t)|0;return"fallback_"+Math.abs(e)}function gn(){try{let o=document.createElement("canvas"),e=o.getContext("webgl")||o.getContext("experimental-webgl");if(!e)return"";let t=e.getExtension("WEBGL_debug_renderer_info");if(t){let n=e.getParameter(t.UNMASKED_VENDOR_WEBGL),l=e.getParameter(t.UNMASKED_RENDERER_WEBGL);return`${n}###${l}`}}catch{}return""}function bn(){try{let o=document.createElement("canvas"),e=o.getContext("2d");return e.textBaseline="top",e.font="14px 'Arial'",e.fillStyle="#f60",e.fillRect(100,1,80,20),e.fillStyle="#069",e.fillText("Hello!",2,15),o.toDataURL()}catch{return""}}async function ro(){let o="pwaUserId",e=localStorage.getItem(o);if(e)return e;let t=await un(),n=await fn(t);return localStorage.setItem(o,n),n}var so=D(()=>{});var ao={};F(ao,{initPwaTracker:()=>vn});function wn(){sessionStorage.setItem("isPwa","true"),document.body.classList.add("isPwa")}async function yn(o=3){for(let e=0;e<o;e++)try{let t=await ro(),n=await fetch(`${i.jsVars.restUrl}${i.jsVars.slug}/upsertPwaUser`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({pwaUserId:t})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(t){if(e===o-1)throw console.error("Failed to send tracking data after retries:",t),t;await new Promise(n=>setTimeout(n,1e3*(e+1)))}}async function vn(){try{wn(),await yn()}catch(o){console.error("Failed to track PWA session:",o)}}var lo=D(()=>{K();so()});var co={};F(co,{initPwaCustomCssAndJs:()=>xn});async function xn(){let o=document.createElement("style"),e=document.createElement("script");o.textContent=i.jsVars.settings.uiComponents.pwaCustomCssAndJs.css||"",e.textContent=i.jsVars.settings.uiComponents.pwaCustomCssAndJs.js||"",document.head.appendChild(o),document.body.appendChild(e)}var po=D(()=>{K()});var ho={};F(ho,{initPageLoader:()=>kn});async function kn(){customElements.get("pwa-page-loader")||customElements.define("pwa-page-loader",We),We.show()}var We,uo=D(()=>{K();te();We=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set,this.type=i.jsVars.settings.uiComponents.pageLoader.type,this.performanceData={startTime:performance.now(),estimatedDuration:2e3,loadHistory:[],current:0,target:90,isLoading:!1},this.updateProgress=this.updateProgress.bind(this),this.onResourceLoad=this.onResourceLoad.bind(this),this.resourcesTotal=0,this.resourcesLoaded=0}connectedCallback(){this.render(),this.initialShow(),this.setupNavigationHandlers()}injectStyles(e){this.styles.add(e)}static show(){let e=document.querySelector("pwa-page-loader");return e||(e=document.createElement("pwa-page-loader"),document.body.appendChild(e)),e}setupNavigationHandlers(){window.addEventListener("beforeunload",()=>{this.showPageLoaderBeforeUnload()}),document.readyState==="complete"?this.hidePageLoader():window.addEventListener("load",()=>{this.hidePageLoader()})}initialShow(){let e=this.shadowRoot.querySelector(".pageLoader");e&&(this.type==="skeleton"?this.showSkeletonPageLoader():(document.documentElement.style.paddingRight=`${window.innerWidth-document.documentElement.offsetWidth}px`,document.documentElement.style.overflow="hidden",e.classList.add("visible"),e.classList.add("no-transition"),requestAnimationFrame(()=>{e.classList.remove("no-transition")}),this.type==="percent"&&this.startProgressTracking()))}showPageLoaderBeforeUnload(){let e=this.shadowRoot.querySelector(".pageLoader");e&&(this.type==="percent"&&this.resetProgress(),requestAnimationFrame(()=>{document.documentElement.style.paddingRight=`${window.innerWidth-document.documentElement.offsetWidth}px`,document.documentElement.style.overflow="hidden",e.classList.add("visible")}))}hidePageLoader(){let e=this.shadowRoot.querySelector(".pageLoader");e&&(this.type==="skeleton"?this.removeSkeletonPageLoader():this.type==="percent"?(this.performanceData.isLoading=!1,this.updateProgress(100),setTimeout(()=>this.fadeOutPageLoader(e),200)):this.fadeOutPageLoader(e))}fadeOutPageLoader(e){e.offsetHeight,e.style.display="flex";let t=()=>{document.documentElement.style.removeProperty("overflow"),document.documentElement.style.paddingRight="",e.style.display="none",e.removeEventListener("transitionend",t)};e.addEventListener("transitionend",t),requestAnimationFrame(()=>{e.classList.remove("visible")})}startProgressTracking(){if(this.performanceData.isLoading)return;this.performanceData.isLoading=!0,this.performanceData.startTime=performance.now(),this.resourcesTotal=0,this.resourcesLoaded=0,this.startResourceTracking();let e=performance.now(),t=()=>{if(!this.performanceData.isLoading)return;let n=performance.now(),l=n-e;e=n;let c=this.calculateProgress();this.updateProgress(c),c<100&&requestAnimationFrame(t)};requestAnimationFrame(t)}resetProgress(){if(this.type!=="percent")return;let e=this.shadowRoot.querySelector(".pageLoader_progress-fill"),t=this.shadowRoot.querySelector(".pageLoader_counter");e&&t&&(e.style.transition="none",e.style.width="0%",t.textContent="0%",e.offsetHeight,e.style.transition="width 0.05s ease-out")}startResourceTracking(){let e=performance.getEntriesByType("resource");this.resourcesTotal=e.length,new PerformanceObserver(n=>{for(let l of n.getEntries())l.entryType==="resource"&&(this.resourcesTotal++,this.onResourceLoad())}).observe({entryTypes:["resource"]}),document.readyState==="loading"&&document.addEventListener("DOMContentLoaded",()=>{this.resourcesLoaded=this.resourcesTotal,this.updateEstimatedDuration()})}onResourceLoad(){this.resourcesLoaded++,this.updateEstimatedDuration()}updateEstimatedDuration(){let e=performance.now()-this.performanceData.startTime;this.performanceData.loadHistory.push(e),this.performanceData.loadHistory.length>5&&this.performanceData.loadHistory.shift();let t=this.performanceData.loadHistory.reduce((n,l)=>n+l,0)/this.performanceData.loadHistory.length;this.performanceData.estimatedDuration=Math.max(t,2e3)}calculateProgress(){let e=performance.now()-this.performanceData.startTime,t=this.resourcesTotal?this.resourcesLoaded/this.resourcesTotal*100:0,n=Math.min(100,e/this.performanceData.estimatedDuration*this.performanceData.target),l=Math.max(n,t);return Math.min(l,this.performanceData.target)}updateProgress(e){if(this.type!=="percent")return;let t=this.shadowRoot.querySelector(".pageLoader_progress-fill"),n=this.shadowRoot.querySelector(".pageLoader_counter");t&&n&&(t.style.width=`${e}%`,n.textContent=`${Math.round(e)}%`)}showSkeletonPageLoader(){document.documentElement.classList.add("skeleton");let e=document.createElement("style");e.textContent=`
      :root.skeleton:-webkit-input-placeholder {
          pointer-events: none!important;
          border: none!important;
          -webkit-box-shadow: none!important;
                  box-shadow: none!important;
          text-decoration: none!important;
          color: transparent!important;
          background-color: #e6e9ef!important;
          background-image: -webkit-gradient(linear, left top, right top, from(rgba(255, 255, 255, 0)), color-stop(rgba(255, 255, 255, 0.6)), to(rgba(255, 255, 255, 0)));
          background-image: linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0));
          background-size: 500px 100%!important;
          background-repeat: no-repeat!important;
          border-radius: 4px!important;
          -webkit-animation: skeletonLoad 1s ease-in-out infinite!important;
          animation: skeletonLoad 1s ease-in-out infinite!important;
      }

      :root.skeleton::-moz-placeholder {
          pointer-events: none!important;
          border: none!important;
          box-shadow: none!important;
          text-decoration: none!important;
          color: transparent!important;
          background-color: #e6e9ef!important;
          background-image: linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0));
          background-size: 500px 100%!important;
          background-repeat: no-repeat!important;
          border-radius: 4px!important;
          -webkit-animation: skeletonLoad 1s ease-in-out infinite!important;
          animation: skeletonLoad 1s ease-in-out infinite!important;
      }

      :root.skeleton:-ms-input-placeholder {
          pointer-events: none!important;
          border: none!important;
          box-shadow: none!important;
          text-decoration: none!important;
          color: transparent!important;
          background-color: #e6e9ef!important;
          background-image: linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0));
          background-size: 500px 100%!important;
          background-repeat: no-repeat!important;
          border-radius: 4px!important;
          -webkit-animation: skeletonLoad 1s ease-in-out infinite!important;
          animation: skeletonLoad 1s ease-in-out infinite!important;
      }

      :root.skeleton::-ms-input-placeholder {
          pointer-events: none!important;
          border: none!important;
          box-shadow: none!important;
          text-decoration: none!important;
          color: transparent!important;
          background-color: #e6e9ef!important;
          background-image: linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0));
          background-size: 500px 100%!important;
          background-repeat: no-repeat!important;
          border-radius: 4px!important;
          -webkit-animation: skeletonLoad 1s ease-in-out infinite!important;
          animation: skeletonLoad 1s ease-in-out infinite!important;
      }

      :root.skeleton *:not(script):not(style):not(link):not(meta):not(pwa-page-loader),
      :root.skeleton::placeholder,
      :root.skeleton::before,
      :root.skeleton::after {
          pointer-events: none!important;
          border: none!important;
          -webkit-box-shadow: none!important;
                  box-shadow: none!important;
          text-decoration: none!important;
          color: transparent!important;
          background-color: #e6e9ef!important;
          background-image: -webkit-gradient(linear, left top, right top, from(rgba(255, 255, 255, 0)), color-stop(rgba(255, 255, 255, 0.6)), to(rgba(255, 255, 255, 0)));
          background-image: -o-linear-gradient(left, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0));
          background-image: linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0));
          background-size: 500px 100%!important;
          background-repeat: no-repeat!important;
          border-radius: 4px!important;
          -webkit-animation: skeletonLoad 1s ease-in-out infinite!important;
          animation: skeletonLoad 1s ease-in-out infinite!important;
      }

      @-webkit-keyframes skeletonLoad {
        from {
          background-position: -500px 0;
        }
        to {
          background-position: calc(500px + 100%) 0;
        }
      }

      @keyframes skeletonLoad {
        from {
          background-position: -500px 0;
        }
        to {
          background-position: calc(500px + 100%) 0;
        }
      }
    `,document.head.appendChild(e),this.skeletonStyleSheet=e,document.querySelectorAll("*:not(script):not(style):not(link):not(meta):not(pwa-page-loader)").forEach(n=>{if(n.matches("img, video, iframe")){let l=document.createElement("div");l.className="skeleton-media",l.style.width=`${n.offsetWidth||n.getAttribute("width")||300}px`,l.style.height=`${n.offsetHeight||n.getAttribute("height")||200}px`,n.parentNode.insertBefore(l,n),l.appendChild(n)}})}removeSkeletonPageLoader(){document.documentElement.classList.remove("skeleton"),this.skeletonStyleSheet&&this.skeletonStyleSheet.remove(),document.querySelectorAll(".skeleton-media").forEach(e=>{let t=e.firstElementChild;e.parentNode.insertBefore(t,e),e.remove()})}renderDefaultPageLoader(){let e=i.jsVars.settings.webAppManifest?.appearance?.backgroundColor??"#ffffff",t=i.jsVars.iconUrl??"";return this.injectStyles(`
      .pageLoader.-default {
        background-color: ${e};
      }

      .pageLoader_icon {
          width: 150px;
          height: 150px;
          background: url(${t}) no-repeat center;
          background-size: contain;
          -webkit-animation: bounce .4s infinite alternate;
                  animation: bounce .4s infinite alternate;
      }

      @-webkit-keyframes bounce {
          to { 
              -webkit-transform: scale(1.07); 
                      transform: scale(1.07); 
          }
      }

      @keyframes bounce {
          to { 
              -webkit-transform: scale(1.07); 
                      transform: scale(1.07); 
          }
      }
    `),`
      <div class="pageLoader -default">
				<div class="pageLoader_icon"></div>
			</div>
    `}renderSkeletonPageLoader(){let e=i.jsVars.settings.webAppManifest?.appearance?.backgroundColor??"#ffffff";return this.injectStyles(`
      .pageLoader.-skeleton {
        background-color: ${e};
      }
    `),`
      <div class="pageLoader -skeleton" style="background-color: ${e}"></div>
    `}renderSpinnerPageLoader(){let e=i.jsVars.settings.webAppManifest?.appearance?.backgroundColor??"#ffffff",t=q(e);return this.injectStyles(`
      .pageLoader.-spinner {
        background-color: ${e};
      }
  
      .pageLoader_svg {
        -webkit-animation: rotate 2s linear infinite;
                animation: rotate 2s linear infinite;
        z-index: 2;
        position: absolute;
        width: 70px;
        height: 70px;
      }
  
      .pageLoader_svg circle {
        stroke: ${t};
        stroke-linecap: round;
        -webkit-animation: dash 1.5s ease-in-out infinite;
                animation: dash 1.5s ease-in-out infinite;
      }

      @-webkit-keyframes rotate {
        100% {
          transform: rotate(360deg);
        }
      }

      @keyframes rotate {
        100% {
          transform: rotate(360deg);
        }
      }

      @-webkit-keyframes dash {
        0% {
          stroke-dasharray: 1, 150;
          stroke-dashoffset: 0;
        }
        50% {
          stroke-dasharray: 90, 150;
          stroke-dashoffset: -35;
        }
        100% {
          stroke-dasharray: 90, 150;
          stroke-dashoffset: -124;
        }
      }

      @keyframes dash {
        0% {
          stroke-dasharray: 1, 150;
          stroke-dashoffset: 0;
        }
        50% {
          stroke-dasharray: 90, 150;
          stroke-dashoffset: -35;
        }
        100% {
          stroke-dasharray: 90, 150;
          stroke-dashoffset: -124;
        }
      }
    `),`
      <div class="pageLoader -spinner">
        <svg class="pageLoader_svg" viewBox="0 0 50 50">
          <circle cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
        </svg>
      </div>
    `}renderRedirectPageLoader(){return this.injectStyles(`
      .pageLoader.-redirect {
        background-color: #f1c40f;
      }
  
      .pageLoader_body {
        position: absolute;
        top: 50%;
        margin-left: -50px;
        left: 50%;
        -webkit-animation: speeder .4s linear infinite;
                animation: speeder .4s linear infinite;
      }

      .pageLoader_body > span {
        height: 5px;
        width: 35px;
        background: #000;
        position: absolute;
        top: -19px;
        left: 60px;
        border-radius: 2px 10px 1px 0;
      }

      .pageLoader_base span {
        position: absolute;
        width: 0;
        height: 0;
        border-top: 6px solid transparent;
        border-right: 100px solid #000;
        border-bottom: 6px solid transparent;
      }

      .pageLoader_base span::before {
        content: "";
        height: 22px;
        width: 22px;
        border-radius: 50%;
        background: #000;
        position: absolute;
        right: -110px;
        top: -16px;
      }

      .pageLoader_base span::after {
        content: "";
        position: absolute;
        width: 0;
        height: 0;
        border-top: 0 solid transparent;
        border-right: 55px solid #000;
        border-bottom: 16px solid transparent;
        top: -16px;
        right: -98px;
      }

      .pageLoader_face {
        position: absolute;
        height: 12px;
        width: 20px;
        background: #000;
        border-radius: 20px 20px 0 0;
        -webkit-transform: rotate(-40deg);
            -ms-transform: rotate(-40deg);
                transform: rotate(-40deg);
        right: -125px;
        top: -15px;
      }

      .pageLoader_face::after {
        content: "";
        height: 12px;
        width: 12px;
        background: #000;
        right: 4px;
        top: 7px;
        position: absolute;
        -webkit-transform: rotate(40deg);
            -ms-transform: rotate(40deg);
                transform: rotate(40deg);
        -webkit-transform-origin: 50% 50%;
            -ms-transform-origin: 50% 50%;
                transform-origin: 50% 50%;
        border-radius: 0 0 0 2px;
      }

      .pageLoader_body > span > span:nth-child(1),
      .pageLoader_body > span > span:nth-child(2),
      .pageLoader_body > span > span:nth-child(3),
      .pageLoader_body > span > span:nth-child(4) {
        width: 30px;
        height: 1px;
        background: #000;
        position: absolute;
        -webkit-animation: fazer1 .2s linear infinite;
                animation: fazer1 .2s linear infinite;
      }

      .pageLoader_body > span > span:nth-child(2) {
        top: 3px;
        -webkit-animation: fazer2 .4s linear infinite;
                animation: fazer2 .4s linear infinite;
      }

      .pageLoader_body > span > span:nth-child(3) {
        top: 1px;
        -webkit-animation: fazer3 .4s linear infinite;
                animation: fazer3 .4s linear infinite;
        -webkit-animation-delay: -1s;
                animation-delay: -1s;
      }

      .pageLoader_body > span > span:nth-child(4) {
        top: 4px;
        -webkit-animation: fazer4 1s linear infinite;
                animation: fazer4 1s linear infinite;
        -webkit-animation-delay: -1s;
                animation-delay: -1s;
      }

      .pageLoader_fazers {
        position: absolute;
        width: 100%;
        height: 100%;
      }

      .pageLoader_fazers span {
        position: absolute;
        height: 2px;
        width: 20%;
        background: #000;
      }

      .pageLoader_fazers span:nth-child(1) {
        top: 20%;
        -webkit-animation: fazers1 .6s linear infinite;
                animation: fazers1 .6s linear infinite;
        -webkit-animation-delay: -5s;
                animation-delay: -5s;
      }

      .pageLoader_fazers span:nth-child(2) {
        top: 40%;
        -webkit-animation: fazers2 .8s linear infinite;
                animation: fazers2 .8s linear infinite;
        -webkit-animation-delay: -1s;
                animation-delay: -1s;
      }

      .pageLoader_fazers span:nth-child(3) {
        top: 60%;
        -webkit-animation: fazers3 .6s linear infinite;
                animation: fazers3 .6s linear infinite;
      }

      .pageLoader_fazers span:nth-child(4) {
        top: 80%;
        -webkit-animation: fazers4 .5s linear infinite;
                animation: fazers4 .5s linear infinite;
        -webkit-animation-delay: -3s;
                animation-delay: -3s;
      }
  
      @-webkit-keyframes fazers1 {
        0% {
          left: 200%;
        }
        100% {
          left: -200%;
          opacity: 0;
        }
      }

      @keyframes fazers1 {
        0% {
          left: 200%;
        }
        100% {
          left: -200%;
          opacity: 0;
        }
      }

      @-webkit-keyframes fazers2 {
        0% {
          left: 200%;
        }
        100% {
          left: -200%;
          opacity: 0;
        }
      }

      @keyframes fazers2 {
        0% {
          left: 200%;
        }
        100% {
          left: -200%;
          opacity: 0;
        }
      }

      @-webkit-keyframes fazers3 {
        0% {
          left: 200%;
        }
        100% {
          left: -100%;
          opacity: 0;
        }
      }

      @keyframes fazers3 {
        0% {
          left: 200%;
        }
        100% {
          left: -100%;
          opacity: 0;
        }
      }

      @-webkit-keyframes fazers4 {
        0% {
          left: 200%;
        }
        100% {
          left: -100%;
          opacity: 0;
        }
      }

      @keyframes fazers4 {
        0% {
          left: 200%;
        }
        100% {
          left: -100%;
          opacity: 0;
        }
      }

      @-webkit-keyframes fazer1 {
        0% {
          left: 0;
        }
        100% {
          left: -80px;
          opacity: 0;
        }
      }

      @keyframes fazer1 {
        0% {
          left: 0;
        }
        100% {
          left: -80px;
          opacity: 0;
        }
      }

      @-webkit-keyframes fazer2 {
        0% {
          left: 0;
        }
        100% {
          left: -100px;
          opacity: 0;
        }
      }

      @keyframes fazer2 {
        0% {
          left: 0;
        }
        100% {
          left: -100px;
          opacity: 0;
        }
      }

      @-webkit-keyframes fazer3 {
        0% {
          left: 0;
        }
        100% {
          left: -50px;
          opacity: 0;
        }
      }

      @keyframes fazer3 {
        0% {
          left: 0;
        }
        100% {
          left: -50px;
          opacity: 0;
        }
      }

      @-webkit-keyframes fazer4 {
        0% {
          left: 0;
        }
        100% {
          left: -150px;
          opacity: 0;
        }
      }

      @keyframes fazer4 {
        0% {
          left: 0;
        }
        100% {
          left: -150px;
          opacity: 0;
        }
      }

      @-webkit-keyframes speeder {
        0% {
          -webkit-transform: translate(2px, 1px) rotate(0deg);
                  transform: translate(2px, 1px) rotate(0deg);
        }
        10% {
          -webkit-transform: translate(-1px, -3px) rotate(-1deg);
                  transform: translate(-1px, -3px) rotate(-1deg);
        }
        20% {
          -webkit-transform: translate(-2px, 0px) rotate(1deg);
                  transform: translate(-2px, 0px) rotate(1deg);
        }
        30% {
          -webkit-transform: translate(1px, 2px) rotate(0deg);
                  transform: translate(1px, 2px) rotate(0deg);
        }
        40% {
          -webkit-transform: translate(1px, -1px) rotate(1deg);
                  transform: translate(1px, -1px) rotate(1deg);
        }
        50% {
          -webkit-transform: translate(-1px, 3px) rotate(-1deg);
                  transform: translate(-1px, 3px) rotate(-1deg);
        }
        60% {
          -webkit-transform: translate(-1px, 1px) rotate(0deg);
                  transform: translate(-1px, 1px) rotate(0deg);
        }
        70% {
          -webkit-transform: translate(3px, 1px) rotate(-1deg);
                  transform: translate(3px, 1px) rotate(-1deg);
        }
        80% {
          -webkit-transform: translate(-2px, -1px) rotate(1deg);
                  transform: translate(-2px, -1px) rotate(1deg);
        }
        90% {
          -webkit-transform: translate(2px, 1px) rotate(0deg);
                  transform: translate(2px, 1px) rotate(0deg);
        }
        100% {
          -webkit-transform: translate(1px, -2px) rotate(-1deg);
                  transform: translate(1px, -2px) rotate(-1deg);
        }
      }

      @keyframes speeder {
        0% {
          -webkit-transform: translate(2px, 1px) rotate(0deg);
                  transform: translate(2px, 1px) rotate(0deg);
        }
        10% {
          -webkit-transform: translate(-1px, -3px) rotate(-1deg);
                  transform: translate(-1px, -3px) rotate(-1deg);
        }
        20% {
          -webkit-transform: translate(-2px, 0px) rotate(1deg);
                  transform: translate(-2px, 0px) rotate(1deg);
        }
        30% {
          -webkit-transform: translate(1px, 2px) rotate(0deg);
                  transform: translate(1px, 2px) rotate(0deg);
        }
        40% {
          -webkit-transform: translate(1px, -1px) rotate(1deg);
                  transform: translate(1px, -1px) rotate(1deg);
        }
        50% {
          -webkit-transform: translate(-1px, 3px) rotate(-1deg);
                  transform: translate(-1px, 3px) rotate(-1deg);
        }
        60% {
          -webkit-transform: translate(-1px, 1px) rotate(0deg);
                  transform: translate(-1px, 1px) rotate(0deg);
        }
        70% {
          -webkit-transform: translate(3px, 1px) rotate(-1deg);
                  transform: translate(3px, 1px) rotate(-1deg);
        }
        80% {
          -webkit-transform: translate(-2px, -1px) rotate(1deg);
                  transform: translate(-2px, -1px) rotate(1deg);
        }
        90% {
          -webkit-transform: translate(2px, 1px) rotate(0deg);
                  transform: translate(2px, 1px) rotate(0deg);
        }
        100% {
          -webkit-transform: translate(1px, -2px) rotate(-1deg);
                  transform: translate(1px, -2px) rotate(-1deg);
        }
      }
    `),`
      <div class="pageLoader -redirect">
        <div class="pageLoader_body">
          <span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
          </span>
          <div class="pageLoader_base">
            <span></span>
            <div class="pageLoader_face"></div>
          </div>
        </div>
        <div class="pageLoader_fazers">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    `}renderPercentPageLoader(){let e=i.jsVars.settings.webAppManifest?.appearance?.backgroundColor??"#ffffff",t=q(e);return this.injectStyles(`
      .pageLoader.-percent {
        background-color: ${e};
        flex-direction: column;
      }
  
      .pageLoader_counter {
        font-size: 38px;
        color: ${t};
        margin-bottom: 20px;
      }
  
      .pageLoader_progress {
        width: 400px;
        max-width: 85vw;
        height: 4px;
        position: relative;
        border-radius: 4px;
        background: ${t}80;
        overflow: hidden;
      }
  
      .pageLoader_progress-fill {
        display: block;
        width: 0;
        height: 100%;
        background: ${t};
        transition: width 0.05s ease-out;
      }
    `),`
      <div class="pageLoader -percent">
        <span class="pageLoader_counter">0%</span>
        <div class="pageLoader_progress">
          <span class="pageLoader_progress-fill"></span>
        </div>
      </div>
    `}renderFadePageLoader(){let e=i.jsVars.settings.webAppManifest?.appearance?.backgroundColor??"#ffffff";return this.injectStyles(`
      .pageLoader.-fade {
        background-color: ${e};
      }
    `),'<div class="pageLoader -fade"></div>'}render(){this.injectStyles(`
      .pageLoader {
        display: none;
        justify-content: center;
        align-items: center;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        opacity: 0;
        z-index: 9999999999999999;
        transition: opacity 0.3s ease-out;
      }

      .pageLoader.no-transition {
        transition: none !important;
      }

      .pageLoader.visible {
        opacity: 1;
        visibility: visible;
        display: flex !important;
      }
    `);let e;switch(this.type){case"default":e=this.renderDefaultPageLoader();break;case"skeleton":e=this.renderSkeletonPageLoader();break;case"spinner":e=this.renderSpinnerPageLoader();break;case"redirect":e=this.renderRedirectPageLoader();break;case"percent":e=this.renderPercentPageLoader();break;case"fade":e=this.renderFadePageLoader();break;default:break}let t=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>
        ${t}
      </style>
      ${e}
    `}}});var fo={};F(fo,{initOrientationLock:()=>Sn});function mo(o){let e=document.getElementById("orientation-lock-style");if(e&&e.remove(),o==="portrait"||o==="landscape"){let t=o==="portrait"?"landscape":"portrait",n=document.createElement("style");n.id="orientation-lock-style",o==="portrait"?n.textContent=`
        @media screen and (min-width: 320px) and (max-width: 767px) and (orientation: ${t}) {
          html {
            transform: rotate(-90deg);
            transform-origin: left top;
            width: 100vh;
            overflow-x: hidden;
            position: absolute;
            top: 100%;
            left: 0;
          }
        }
      `:n.textContent=`
        @media screen and (min-width: 320px) and (max-width: 767px) and (orientation: ${t}) {
          html {
            transform: rotate(90deg);
            transform-origin: right top;
            width: 100vh;
            overflow-x: hidden;
            position: absolute;
            top: 0;
            right: 0;
          }
        }
      `,document.head.appendChild(n)}}async function Sn(){let o=i.jsVars.settings.webAppManifest.displaySettings.orientation;if(o!=="any")try{window.screen&&window.screen.orientation&&window.screen.orientation.lock?await window.screen.orientation.lock(o):mo(o)}catch(e){console.warn("Orientation lock failed:",e.message),mo(o)}}var go=D(()=>{K()});var bo={};F(bo,{initInstallUrl:()=>Tn});async function Tn(){Je("performInstallation","true")&&(re(),ht("performInstallation"))}var wo=D(()=>{me();te()});var yo={};F(yo,{initInstallButton:()=>qn});async function qn(){customElements.get("pwa-install-button")||customElements.define("pwa-install-button",ct)}var ct,vo=D(()=>{K();me();te();ct=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}connectedCallback(){this.render(),this.handleClick()}injectStyles(e){this.styles.add(e)}handleClick(){this.shadowRoot.querySelector(".pwa-install-button").addEventListener("click",()=>{re()})}render(){let e=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",t=q(e),n=i.jsVars.settings.installation?.prompts?.text??__("Install Web App",i.jsVars.slug);this.injectStyles(`
      :host(:active),
      :host(:focus) {
        outline: transparent;
        border: none;
      }

      .pwa-install-button {
        display: inline-block;
        background-color: ${e};
        color: ${t};
        vertical-align: middle;
        text-decoration: none;
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 500;
        padding: 0.5rem 1rem;
        border: none;
        outline: none;
        border-radius: 9999px;
        cursor: pointer;
      }

      .pwa-install-button:hover {
        opacity: 0.8;
      }
    `);let l=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${l}</style>
      <button class="pwa-install-button">${n}</button>
    `}}});var xo={};F(xo,{initToastMessages:()=>Cn});async function Cn(){customElements.get("pwa-toast-messages")||customElements.define("pwa-toast-messages",Xe),Xe.show()}var ge,Xe,ko=D(()=>{K();te();({__:ge}=wp.i18n),Xe=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}connectedCallback(){this.render()}injectStyles(e){this.styles.add(e)}static show(){let e=document.querySelector("pwa-toast-messages");return e||(e=document.createElement("pwa-toast-messages"),document.body.appendChild(e)),requestAnimationFrame(()=>{let t=e.shadowRoot.querySelector(".toast-message");setTimeout(()=>{t.classList.add("visible")},300),setTimeout(()=>{t.classList.remove("visible"),t.addEventListener("transitionend",()=>{e.remove()},{once:!0})},2800)}),e}render(){let e=i.jsVars.settings.webAppManifest?.appearance?.themeColor??"#000000",t=q(e),n=q(t);this.injectStyles(`
      .toast-message {
        position: fixed;
        bottom: 0;
        left: 50%;
        -webkit-transform: translateX(-50%) translateY(100%);
            -ms-transform: translateX(-50%) translateY(100%);
                transform: translateX(-50%) translateY(100%);
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
            -ms-flex-align: center;
                align-items: center;
        padding: 0.75rem 1rem;
        gap: 0.75rem;
        width: auto;
        max-width: 85%;
        background-color: ${t};
        color: ${n};
        border: 1px solid ${n}15;
        border-radius: 0.75rem;
        -webkit-box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
                box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        z-index: 99999999999999999999999999;
        -webkit-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        -o-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        opacity: 0;
      }

      .toast-message.visible {
        opacity: 1;
        -webkit-transform: translateX(-50%) translateY(-1rem);
            -ms-transform: translateX(-50%) translateY(-1rem);
                transform: translateX(-50%) translateY(-1rem);
      }

      .toast-message_text {
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 500;
      }
    `);let l;switch(!0){case i.jsVars.pageData.type.isHome:l=ge("Homepage Opened",i.jsVars.slug);break;case i.jsVars.pageData.type.is404:l=ge("Page Not Found",i.jsVars.slug);break;case i.jsVars.pageData.type.isSearch:l=ge("Search Results",i.jsVars.slug);break;case i.jsVars.pageData.type.isBlogPost:l=ge("Article Opened",i.jsVars.slug);break;case i.jsVars.pageData.type.isWooShop:l=ge("Shop Opened",i.jsVars.slug);break;case i.jsVars.pageData.type.isWooProduct:l=ge("Product Opened",i.jsVars.slug);break;default:l=ge("Page Opened",i.jsVars.slug);break}let c=Array.from(this.styles).join(`
`);this.shadowRoot.innerHTML=`
      <style>${c}</style>
      <div class="toast-message" role="alert" tabindex="-1">
        <span class="toast-message_text">
          ${l}
        </span>
      </div>
    `}}});var i,v,j,jn,En,So,fe,_n,K=D(()=>{te();Ve();i=(()=>{let o="daftplug_progressify",e=window[o+"_frontend_js_vars"]||{};return{optionName:o,jsVars:e}})(),{settings:v,userData:j,pluginsData:jn,pageData:En}=i.jsVars,So=!1,fe=async()=>{if(!So){if(So=!0,document.removeEventListener("mousemove",fe),document.removeEventListener("scroll",fe),document.removeEventListener("touchstart",fe),document.removeEventListener("keydown",fe),v?.installation?.prompts?.feature==="on"&&!qe()&&(v?.installation?.prompts?.skipFirstVisit!=="on"||Ke())){if(v?.installation?.prompts?.types?.headerBanner?.feature==="on"&&!je("pwa_header_banner_overlay_shown")){let{initInstallOverlayHeaderBanner:o}=await Promise.resolve().then(()=>(mt(),ut));await o(),Ce("pwa_header_banner_overlay_shown","true",v?.installation?.prompts?.timeout??1)}if(v?.installation?.prompts?.types?.snackbar?.feature==="on"&&(j?.device?.isSmartphone||j?.device?.isTablet)&&!je("pwa_snackbar_overlay_shown")){let{initInstallOverlaySnackbar:o}=await Promise.resolve().then(()=>(gt(),ft));await o(),Ce("pwa_snackbar_overlay_shown","true",v?.installation?.prompts?.timeout??1)}if(v?.installation?.prompts?.types?.blogPopup?.feature==="on"&&En?.type?.isBlogPost&&(j?.device?.isSmartphone||j?.device?.isTablet)&&!je("pwa_blog_popup_overlay_shown")){let{initInstallOverlayBlogPopup:o}=await Promise.resolve().then(()=>(wt(),bt));await o(),Ce("pwa_blog_popup_overlay_shown","true",v?.installation?.prompts?.timeout??1)}if(v?.installation?.prompts?.types?.navigationMenu?.feature==="on"&&(j?.device?.isSmartphone||j?.device?.isTablet)){let{initInstallOverlayNavigationMenu:o}=await Promise.resolve().then(()=>(vt(),yt));await o()}if(v?.installation?.prompts?.types?.inFeed?.feature==="on"&&(j?.device?.isSmartphone||j?.device?.isTablet)){let{initInstallOverlayInFeed:o}=await Promise.resolve().then(()=>(kt(),xt));await o()}if(v?.installation?.prompts?.types?.woocommerceCheckout?.feature==="on"&&jn?.isActive?.woocommerce&&document.body.classList.contains("woocommerce-checkout")&&(j?.device?.isSmartphone||j?.device?.isTablet)){let{initInstallOverlayWoocommerceCheckout:o}=await Promise.resolve().then(()=>(Tt(),St));await o()}}if(v?.offlineUsage?.capabilities?.feature==="on"){if(v?.offlineUsage?.capabilities?.notification?.feature==="on"){let{initOfflineNotification:o}=await Promise.resolve().then(()=>(Ct(),qt));await o()}if(v?.offlineUsage?.capabilities?.forms?.feature==="on"){let{initOfflineForms:o}=await Promise.resolve().then(()=>(_t(),Et));await o()}}if(v?.uiComponents?.navigationTabBar?.feature==="on"&&v?.uiComponents?.navigationTabBar?.navigationItems.some(o=>o.icon&&o.label&&o.page)&&v?.uiComponents?.navigationTabBar?.supportedDevices.some(o=>o==="smartphone"&&j?.device?.isSmartphone||o==="tablet"&&j?.device?.isTablet)){let{initNavigationTabBar:o}=await Promise.resolve().then(()=>(Pt(),Lt));await o()}if(v?.uiComponents?.scrollProgressBar?.feature==="on"&&v?.uiComponents?.scrollProgressBar?.supportedDevices.some(o=>o==="smartphone"&&j?.device?.isSmartphone||o==="tablet"&&j?.device?.isTablet||o==="desktop"&&j?.device?.isDesktop)){let{initScrollProgressBar:o}=await Promise.resolve().then(()=>($t(),Mt));await o()}if(v?.uiComponents?.darkMode?.feature==="on"&&v?.uiComponents?.darkMode?.supportedDevices.some(o=>o==="smartphone"&&j?.device?.isSmartphone||o==="tablet"&&j?.device?.isTablet||o==="desktop"&&j?.device?.isDesktop)){let{initDarkMode:o}=await Promise.resolve().then(()=>(It(),At));await o()}if(v?.uiComponents?.shareButton?.feature==="on"&&navigator.share&&v?.uiComponents?.shareButton?.supportedDevices.some(o=>o==="smartphone"&&j?.device?.isSmartphone||o==="tablet"&&j?.device?.isTablet||o==="desktop"&&j?.device?.isDesktop)){let{initShareButton:o}=await Promise.resolve().then(()=>(Dt(),Ht));await o()}if(v?.uiComponents?.pullDownRefresh?.feature==="on"&&v?.uiComponents?.pullDownRefresh?.supportedDevices.some(o=>o==="smartphone"&&j?.device?.isSmartphone||o==="tablet"&&j?.device?.isTablet)){let{initPullDownRefresh:o}=await Promise.resolve().then(()=>(Rt(),Bt));await o()}if(v?.uiComponents?.shakeRefresh?.feature==="on"&&"DeviceMotionEvent"in window&&v?.uiComponents?.shakeRefresh?.supportedDevices.some(o=>o==="smartphone"&&j?.device?.isSmartphone||o==="tablet"&&j?.device?.isTablet)){let{initShakeRefresh:o}=await Promise.resolve().then(()=>(zt(),Ut));await o()}if(v?.uiComponents?.inactiveBlur?.feature==="on"&&v?.uiComponents?.inactiveBlur?.supportedDevices.some(o=>o==="smartphone"&&j?.device?.isSmartphone||o==="tablet"&&j?.device?.isTablet)){let{initInactiveBlur:o}=await Promise.resolve().then(()=>(Ft(),Ot));await o()}if(v?.appCapabilities?.smoothPageTransitions?.feature==="on"&&v?.appCapabilities?.smoothPageTransitions?.supportedDevices.some(o=>o==="smartphone"&&j?.device?.isSmartphone||o==="tablet"&&j?.device?.isTablet||o==="desktop"&&j?.device?.isDesktop)){let{initSmoothPageTransitions:o}=await Promise.resolve().then(()=>(Zt(),Yt));await o()}if(v?.appCapabilities?.vibrations?.feature==="on"&&navigator.vibrate&&v?.appCapabilities?.vibrations?.supportedDevices.some(o=>o==="smartphone"&&j?.device?.isSmartphone||o==="tablet"&&j?.device?.isTablet)){let{initVibrations:o}=await Promise.resolve().then(()=>(Xt(),Wt));await o()}if(v?.appCapabilities?.idleDetection?.feature==="on"&&"IdleDetector"in window&&v?.appCapabilities?.idleDetection?.supportedDevices.some(o=>o==="smartphone"&&j?.device?.isSmartphone||o==="tablet"&&j?.device?.isTablet||o==="desktop"&&j?.device?.isDesktop)){let{initIdleDetection:o}=await Promise.resolve().then(()=>(Kt(),Gt));await o()}if(v?.appCapabilities?.screenWakeLock?.feature==="on"&&navigator.wakeLock&&v?.appCapabilities?.screenWakeLock?.supportedDevices.some(o=>o==="smartphone"&&j?.device?.isSmartphone||o==="tablet"&&j?.device?.isTablet||o==="desktop"&&j?.device?.isDesktop)){let{initScreenWakeLock:o}=await Promise.resolve().then(()=>(Qt(),Jt));await o()}if(v?.pushNotifications?.prompt?.feature==="on"&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&!["subscribed","blocked"].includes(await le.getSubscriptionState())&&!je("pwa_push_notifications_prompt_shown")&&(v?.pushNotifications?.prompt?.skipFirstVisit!=="on"||Ke())){let{initPushNotificationsPrompt:o}=await Promise.resolve().then(()=>(to(),eo));await o(),Ce("pwa_push_notifications_prompt_shown","true",v?.pushNotifications?.prompt?.timeout??1)}if(v?.pushNotifications?.button?.feature==="on"&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&await le.getSubscriptionState()!=="blocked"&&(await le.getSubscriptionState()!=="subscribed"||v?.pushNotifications?.button?.behavior==="shown")){let{initPushNotificationsButton:o}=await Promise.resolve().then(()=>(no(),oo));await o()}}},_n=()=>{document.addEventListener("mousemove",fe,{once:!0,passive:!0}),document.addEventListener("scroll",fe,{once:!0,passive:!0}),document.addEventListener("touchstart",fe,{once:!0,passive:!0}),document.addEventListener("keydown",fe,{once:!0,passive:!0}),setTimeout(()=>{fe()},1e3)};document.addEventListener("DOMContentLoaded",async function(){if(qe()){let{initPwaTracker:o}=await Promise.resolve().then(()=>(lo(),ao));await o()}if(qe()&&v?.uiComponents?.pwaCustomCssAndJs?.feature==="on"){let{initPwaCustomCssAndJs:o}=await Promise.resolve().then(()=>(po(),co));await o()}if(v?.appCapabilities?.smoothPageTransitions?.feature==="off"&&v?.uiComponents?.pageLoader?.feature==="on"&&v?.uiComponents?.pageLoader?.supportedDevices.some(o=>o==="smartphone"&&j?.device?.isSmartphone||o==="tablet"&&j?.device?.isTablet||o==="desktop"&&j?.device?.isDesktop)){let{initPageLoader:o}=await Promise.resolve().then(()=>(uo(),ho));await o()}if(v?.webAppManifest?.displaySettings?.orientationLock==="on"){let{initOrientationLock:o}=await Promise.resolve().then(()=>(go(),fo));await o()}if(v?.installation?.prompts?.feature==="on"&&!qe()){let{initInstallUrl:o}=await Promise.resolve().then(()=>(wo(),bo));await o();let{initInstallButton:e}=await Promise.resolve().then(()=>(vo(),yo));await e()}if(v?.uiComponents?.toastMessages?.feature==="on"&&v?.uiComponents?.toastMessages?.supportedDevices.some(o=>o==="smartphone"&&j?.device?.isSmartphone||o==="tablet"&&j?.device?.isTablet)){let{initToastMessages:o}=await Promise.resolve().then(()=>(ko(),xo));await o()}_n()})});K();})();
